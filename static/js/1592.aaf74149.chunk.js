"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[1592],{59295:function(e,r,n){n.d(r,{H:function(){return o},Lm:function(){return d},a4:function(){return c},rb:function(){return u},vT:function(){return l}});var a=n(74165),t=n(15861),s=n(70606),i="https://fintech.oxyloans.com/oxyloans/v1/user",l=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(r,n,t,l,o){var u,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={address:n,dob:o,panNumber:r,timeInMilliSeconds:t,emailOtp:null,emailOtpSession:null,userId:l},e.prev=1,e.next=4,s.Z.patch(i+"/emailVerification",u,{headers:{"Content-Type":"application/json"}});case 4:return c=e.sent,e.abrupt("return",{responseData:c.data});case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r,n,a,t,s){return e.apply(this,arguments)}}(),o=function(e){return e&&e.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)?null:"Please enter a valid email address"},u=function(e,r,n){if(!e||!e.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/))return"Please enter a valid email address";if(!r||r.length<6)return"Password must be at least 6 characters long";return n&&n.match(/^\d{10}$/)?null:"Please enter a valid 10-digit phone number"},c=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(r){var n,t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={citizenship:"NONNRI",mobileNumber:r},e.prev=1,e.next=4,s.Z.post(i+"/newUserRegistration",n);case 4:return t=e.sent,e.abrupt("return",t.data.mobileOtpSession);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)((0,a.Z)().mark((function e(r,n,t,l,o,u,c){var d,p,m,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=localStorage.getItem("uniqnumber"),p=localStorage.getItem("type"),m=null===d?{mobileNumber:n,mobileOtpSession:u,mobileOtpValue:t,primaryType:"LENDER",name:l,email:r,password:o,citizenship:"NONNRI",uniqueNumber:0,utm:"WEB",cifNumber:null,finoEmployeeMobileNumber:null}:{mobileNumber:n,mobileOtpSession:u,mobileOtpValue:t,primaryType:"LENDER",name:l,email:r,password:o,citizenship:"NONNRI",uniqueNumber:d,utmForPartner:null,utm:"WEB",cifNumber:null,finoEmployeeMobileNumber:null},"Borrower"===p&&(m.utmForPartner="",m.primaryType="Borrower",localStorage.setItem("type","")),e.prev=4,e.next=7,s.Z.post(i+"/newUserRegistration",m);case 7:return f=e.sent,e.abrupt("return",{responseData:f.data});case 11:throw e.prev=11,e.t0=e.catch(4),e.t0;case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(r,n,a,t,s,i,l){return e.apply(this,arguments)}}()},41592:function(e,r,n){n.r(r);var a=n(4942),t=n(74165),s=n(1413),i=n(15861),l=n(29439),o=n(29867),u=(n(69104),n(46769),n(59295)),c=n(44406),d=(n(68316),n(15333),n(84670)),p=n(38031),m=n(44790),f=n(92834);r.default=function(){var e=(0,d.s0)(),r=((0,o.useRef)(),(0,d.UO)(),(0,o.useState)("")),n=(0,l.Z)(r,2),b=n[0],h=n[1],v=(0,o.useState)(null),g=(0,l.Z)(v,2),x=(g[0],g[1]),N=(0,o.useState)("318"),j=(0,l.Z)(N,2),y=j[0],w=j[1],Z=(0,o.useState)(""),S=(0,l.Z)(Z,2),O=S[0],k=S[1],E=(0,o.useState)(""),P=(0,l.Z)(E,2),I=(P[0],P[1]),M=(0,o.useState)({pannumber:"",address:"",date:"",isbtnvalid:!1,doberror:"",panerror:"",addresserror:""}),C=(0,l.Z)(M,2),R=C[0],_=C[1],D=new Date;D.setFullYear(D.getFullYear()-18);var T=D.toISOString().split("T")[0],B=function(){var r=(0,i.Z)((0,t.Z)().mark((function r(){var n;return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==R.date&&""!==R.pannumber&&""!==R.address){r.next=4;break}_((0,s.Z)((0,s.Z)({},R),{},{doberror:""===R.date?"Enter The DOB":"",panerror:""===R.pannumber?"Enter Pan Number":"",addresserror:""===R.address?"Enter The Address":""})),r.next=25;break;case 4:if(R.date,!(R.pannumber.length>=10)){r.next=23;break}return r.prev=6,r.next=9,u.vT(R.pannumber,R.address,O,y,b);case 9:n=r.sent,(0,m.a)("Registration successfully completed"),x(n),e("/"),I(null),r.next=21;break;case 16:r.prev=16,r.t0=r.catch(6),console.error("Error:",r.t0.response.data.errorMessage),I(r.t0.response.data.errorMessage),(0,p.HC)(r.t0.response.data.errorMessage);case 21:r.next=25;break;case 23:I("please enter vaild pan-card number"),(0,p.HC)("please enter vaild pan-card number");case 25:case"end":return r.stop()}}),r,null,[[6,16]])})));return function(){return r.apply(this,arguments)}}(),F=function(e){var r=e.target,n=r.name,t=r.value;_((0,s.Z)((0,s.Z)({},R),{},(0,a.Z)({},n,t)))};return(0,o.useEffect)((function(){var e=localStorage.getItem("id"),r=localStorage.getItem("timemilll");k(r),w(e)}),[]),(0,o.useEffect)((function(){var e=R.date.split("-"),r=new Date(e[0],e[1]-1,e[2]),n=String(r.getDate()).padStart(2,"0"),a=String(r.getMonth()+1).padStart(2,"0"),t=r.getFullYear();h(n+"/"+a+"/"+t)}),[R.date]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"main-wrapper login-body",children:(0,f.jsx)("div",{className:"login-wrapper",children:(0,f.jsx)("div",{className:"container",children:(0,f.jsxs)("div",{className:"loginbox",children:[(0,f.jsx)("div",{className:"login-left",children:(0,f.jsx)("img",{className:"img-fluid",src:c.iL,alt:"Logo"})}),(0,f.jsx)("div",{className:"login-right",children:(0,f.jsxs)("div",{className:"login-right-wrap",children:[(0,f.jsx)("h4",{className:"tex-muted my-3 text-center",children:"Complete Registration"}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{children:["Pan Number ",(0,f.jsx)("span",{className:"login-danger",children:"*"})]}),(0,f.jsx)("input",{className:"form-control",type:"text",name:"pannumber",maxLength:10,onChange:F}),(0,f.jsx)("span",{className:"profile-views",children:(0,f.jsx)("i",{className:"fas fa-user-circle"})}),R.panerror&&(0,f.jsx)("div",{className:"error",children:R.panerror})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{children:["Date of Birth ",(0,f.jsx)("span",{className:"login-danger",children:"*"})]}),(0,f.jsx)("input",{className:"form-control",type:"date",name:"date",onChange:F,max:T}),R.doberror&&(0,f.jsx)("div",{className:"error",children:R.doberror})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{children:["Address ",(0,f.jsx)("span",{className:"login-danger",children:"*"})]}),(0,f.jsx)("textarea",{className:"form-control",type:"text",name:"address",onChange:F}),(0,f.jsx)("span",{className:"profile-views",children:(0,f.jsx)("i",{className:"fas fa-user-circle"})}),R.addresserror&&(0,f.jsx)("div",{className:"error",children:R.addresserror})]}),(0,f.jsxs)("button",{className:"btn btn-primary btn-block",type:"submit",onClick:B,disabled:R.isbtnvalid,children:[" ","Submit"," "]})]})})]})})})})})}},68316:function(e,r,n){Object.defineProperty(r,"__esModule",{value:!0});var a=n(4529);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in r&&r[e]===a[e]||Object.defineProperty(r,e,{enumerable:!0,get:function(){return a[e]}}))})),Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s.default}});var t,s=(t=n(46788))&&t.__esModule?t:{default:t}},69104:function(){},46769:function(){},15333:function(){}}]);
//# sourceMappingURL=1592.aaf74149.chunk.js.map