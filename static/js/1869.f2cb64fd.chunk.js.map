{"version":3,"file":"static/js/1869.f2cb64fd.chunk.js","mappings":"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","sources":["../node_modules/alertifyjs/build/alertify.js","../node_modules/object-assign/index.js","../node_modules/react-helmet/es/Helmet.js","../node_modules/react-helmet/node_modules/react-fast-compare/index.js","../node_modules/react-side-effect/lib/index.js"],"sourcesContent":["/**\r\n * alertifyjs 1.13.1 http://alertifyjs.com\r\n * AlertifyJS is a javascript framework for developing pretty browser dialogs and notifications.\r\n * Copyright 2019 Mohammad Younes <Mohammad@alertifyjs.com> (http://alertifyjs.com) \r\n * Licensed under GPL 3 <https://opensource.org/licenses/gpl-3.0>*/\r\n( function ( window ) {\r\n    'use strict';\r\n    var NOT_DISABLED_NOT_RESET = ':not(:disabled):not(.ajs-reset)';\r\n    /**\r\n     * Keys enum\r\n     * @type {Object}\r\n     */\r\n    var keys = {\r\n        ENTER: 13,\r\n        ESC: 27,\r\n        F1: 112,\r\n        F12: 123,\r\n        LEFT: 37,\r\n        RIGHT: 39,\r\n        TAB: 9\r\n    };\r\n    /**\r\n     * Default options \r\n     * @type {Object}\r\n     */\r\n    var defaults = {\r\n        autoReset:true,\r\n        basic:false,\r\n        closable:true,\r\n        closableByDimmer:true,\r\n        invokeOnCloseOff:false,\r\n        frameless:false,\r\n        defaultFocusOff:false,\r\n        maintainFocus:true, //global default not per instance, applies to all dialogs\r\n        maximizable:true,\r\n        modal:true,\r\n        movable:true,\r\n        moveBounded:false,\r\n        overflow:true,\r\n        padding: true,\r\n        pinnable:true,\r\n        pinned:true,\r\n        preventBodyShift:false, //global default not per instance, applies to all dialogs\r\n        resizable:true,\r\n        startMaximized:false,\r\n        transition:'pulse',\r\n        transitionOff:false,\r\n        tabbable:['button', '[href]', 'input', 'select', 'textarea', '[tabindex]:not([tabindex^=\"-\"])'+NOT_DISABLED_NOT_RESET].join(NOT_DISABLED_NOT_RESET+','),//global\r\n        notifier:{\r\n            delay:5,\r\n            position:'bottom-right',\r\n            closeButton:false,\r\n            classes: {\r\n                base: 'alertify-notifier',\r\n                prefix:'ajs-',\r\n                message: 'ajs-message',\r\n                top: 'ajs-top',\r\n                right: 'ajs-right',\r\n                bottom: 'ajs-bottom',\r\n                left: 'ajs-left',\r\n                center: 'ajs-center',\r\n                visible: 'ajs-visible',\r\n                hidden: 'ajs-hidden',\r\n                close: 'ajs-close'\r\n            }\r\n        },\r\n        glossary:{\r\n            title:'AlertifyJS',\r\n            ok: 'OK',\r\n            cancel: 'Cancel',\r\n            acccpt: 'Accept',\r\n            deny: 'Deny',\r\n            confirm: 'Confirm',\r\n            decline: 'Decline',\r\n            close: 'Close',\r\n            maximize: 'Maximize',\r\n            restore: 'Restore',\r\n        },\r\n        theme:{\r\n            input:'ajs-input',\r\n            ok:'ajs-ok',\r\n            cancel:'ajs-cancel',\r\n        },\r\n        hooks:{\r\n            preinit:function(){},\r\n            postinit:function(){}\r\n        }\r\n    };\r\n    \r\n    //holds open dialogs instances\r\n    var openDialogs = [];\r\n\r\n    /**\r\n     * [Helper]  Adds the specified class(es) to the element.\r\n     *\r\n     * @element {node}      The element\r\n     * @className {string}  One or more space-separated classes to be added to the class attribute of the element.\r\n     * \r\n     * @return {undefined}\r\n     */\r\n    function addClass(element,classNames){\r\n        element.className += ' ' + classNames;\r\n    }\r\n    \r\n    /**\r\n     * [Helper]  Removes the specified class(es) from the element.\r\n     *\r\n     * @element {node}      The element\r\n     * @className {string}  One or more space-separated classes to be removed from the class attribute of the element.\r\n     * \r\n     * @return {undefined}\r\n     */\r\n    function removeClass(element, classNames) {\r\n        var original = element.className.split(' ');\r\n        var toBeRemoved = classNames.split(' ');\r\n        for (var x = 0; x < toBeRemoved.length; x += 1) {\r\n            var index = original.indexOf(toBeRemoved[x]);\r\n            if (index > -1){\r\n                original.splice(index,1);\r\n            }\r\n        }\r\n        element.className = original.join(' ');\r\n    }\r\n\r\n    /**\r\n     * [Helper]  Checks if the document is RTL\r\n     *\r\n     * @return {Boolean} True if the document is RTL, false otherwise.\r\n     */\r\n    function isRightToLeft(){\r\n        return window.getComputedStyle(document.body).direction === 'rtl';\r\n    }\r\n    /**\r\n     * [Helper]  Get the document current scrollTop\r\n     *\r\n     * @return {Number} current document scrollTop value\r\n     */\r\n    function getScrollTop(){\r\n        return ((document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop);\r\n    }\r\n\r\n    /**\r\n     * [Helper]  Get the document current scrollLeft\r\n     *\r\n     * @return {Number} current document scrollLeft value\r\n     */\r\n    function getScrollLeft(){\r\n        return ((document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft);\r\n    }\r\n\r\n    /**\r\n    * Helper: clear contents\r\n    *\r\n    */\r\n    function clearContents(element){\r\n        while (element.lastChild) {\r\n            element.removeChild(element.lastChild);\r\n        }\r\n    }\r\n    /**\r\n     * Extends a given prototype by merging properties from base into sub.\r\n     *\r\n     * @sub {Object} sub The prototype being overwritten.\r\n     * @base {Object} base The prototype being written.\r\n     *\r\n     * @return {Object} The extended prototype.\r\n     */\r\n    function copy(src) {\r\n        if(null === src){\r\n            return src;\r\n        }\r\n        var cpy;\r\n        if(Array.isArray(src)){\r\n            cpy = [];\r\n            for(var x=0;x<src.length;x+=1){\r\n                cpy.push(copy(src[x]));\r\n            }\r\n            return cpy;\r\n        }\r\n      \r\n        if(src instanceof Date){\r\n            return new Date(src.getTime());\r\n        }\r\n      \r\n        if(src instanceof RegExp){\r\n            cpy = new RegExp(src.source);\r\n            cpy.global = src.global;\r\n            cpy.ignoreCase = src.ignoreCase;\r\n            cpy.multiline = src.multiline;\r\n            cpy.lastIndex = src.lastIndex;\r\n            return cpy;\r\n        }\r\n        \r\n        if(typeof src === 'object'){\r\n            cpy = {};\r\n            // copy dialog pototype over definition.\r\n            for (var prop in src) {\r\n                if (src.hasOwnProperty(prop)) {\r\n                    cpy[prop] = copy(src[prop]);\r\n                }\r\n            }\r\n            return cpy;\r\n        }\r\n        return src;\r\n    }\r\n    /**\r\n      * Helper: destruct the dialog\r\n      *\r\n      */\r\n    function destruct(instance, initialize){\r\n        if(instance.elements){\r\n            //delete the dom and it's references.\r\n            var root = instance.elements.root;\r\n            root.parentNode.removeChild(root);\r\n            delete instance.elements;\r\n            //copy back initial settings.\r\n            instance.settings = copy(instance.__settings);\r\n            //re-reference init function.\r\n            instance.__init = initialize;\r\n            //delete __internal variable to allow re-initialization.\r\n            delete instance.__internal;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Test to check if passive event listeners are supported.\r\n     */\r\n    var IsPassiveSupported = false;\r\n    try {\r\n        var options = Object.defineProperty({}, 'passive', {\r\n            get: function () {\r\n                IsPassiveSupported = true;\r\n            }\r\n        });\r\n        window.addEventListener('test', options, options);\r\n        window.removeEventListener('test', options, options);\r\n    } catch (e) {}\r\n\r\n     /**\r\n     * Removes an event listener\r\n     *\r\n     * @param {HTMLElement} el The EventTarget to register the listenr on.\r\n     * @param {string} event The event type to listen for.\r\n     * @param {Function} handler The function to handle the event.\r\n     * @param {boolean} useCapture Specifices if the event to be dispatched to the registered listener before being dispatched to any EventTarget beneath it in the DOM tree.\r\n     * @param {boolean} passive A Boolean which, if true, indicates that the function specified by listener will never call preventDefault().\r\n     */\r\n    var on = function (el, event, fn, useCapture, passive) {\r\n        el.addEventListener(event, fn, IsPassiveSupported ? { capture: useCapture, passive: passive } : useCapture === true);\r\n    };\r\n\r\n    /**\r\n     * Removes an event listener\r\n     *\r\n     * @param {HTMLElement} el The EventTarget to unregister the listenr from.\r\n     * @param {string} event The event type to remove.\r\n     * @param {Function} fn The event handler to remove.\r\n     * @param {boolean} useCapture Specifices if the event to be dispatched to the registered listener before being dispatched to any EventTarget beneath it in the DOM tree.\r\n     * @param {boolean} passive A Boolean which, if true, indicates that the function specified by listener will never call preventDefault().\r\n     */\r\n    var off = function (el, event, fn, useCapture, passive) {\r\n        el.removeEventListener(event, fn, IsPassiveSupported ? { capture: useCapture, passive: passive } : useCapture === true);\r\n    };\r\n\r\n    /**\r\n     * Prevent default event from firing\r\n     *\r\n     * @param  {Event} event Event object\r\n     * @return {undefined}\r\n\r\n    function prevent ( event ) {\r\n        if ( event ) {\r\n            if ( event.preventDefault ) {\r\n                event.preventDefault();\r\n            } else {\r\n                event.returnValue = false;\r\n            }\r\n        }\r\n    }\r\n    */\r\n    var transition = (function () {\r\n        var t, type;\r\n        var supported = false;\r\n        var transitions = {\r\n            'animation'        : 'animationend',\r\n            'OAnimation'       : 'oAnimationEnd oanimationend',\r\n            'msAnimation'      : 'MSAnimationEnd',\r\n            'MozAnimation'     : 'animationend',\r\n            'WebkitAnimation'  : 'webkitAnimationEnd'\r\n        };\r\n\r\n        for (t in transitions) {\r\n            if (document.documentElement.style[t] !== undefined) {\r\n                type = transitions[t];\r\n                supported = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return {\r\n            type: type,\r\n            supported: supported\r\n        };\r\n    }());\r\n\r\n    /**\r\n    * Creates event handler delegate that sends the instance as last argument.\r\n    * \r\n    * @return {Function}    a function wrapper which sends the instance as last argument.\r\n    */\r\n    function delegate(context, method) {\r\n        return function () {\r\n            if (arguments.length > 0) {\r\n                var args = [];\r\n                for (var x = 0; x < arguments.length; x += 1) {\r\n                    args.push(arguments[x]);\r\n                }\r\n                args.push(context);\r\n                return method.apply(context, args);\r\n            }\r\n            return method.apply(context, [null, context]);\r\n        };\r\n    }\r\n    /**\r\n    * Helper for creating a dialog close event.\r\n    * \r\n    * @return {object}\r\n    */\r\n    function createCloseEvent(index, button) {\r\n        return {\r\n            index: index,\r\n            button: button,\r\n            cancel: false\r\n        };\r\n    }\r\n    /**\r\n    * Helper for dispatching events.\r\n    *\r\n    * @param  {string} evenType The type of the event to disptach.\r\n    * @param  {object} instance The dialog instance disptaching the event.\r\n    *\r\n    * @return   {any}   The result of the invoked function.\r\n    */\r\n    function dispatchEvent(eventType, instance) {\r\n        if ( typeof instance.get(eventType) === 'function' ) {\r\n            return instance.get(eventType).call(instance);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Super class for all dialogs\r\n     *\r\n     * @return {Object}\t\tbase dialog prototype\r\n     */\r\n    var dialog = (function () {\r\n        var //holds the list of used keys.\r\n            usedKeys = [],\r\n            //dummy variable, used to trigger dom reflow.\r\n            reflow = null,\r\n            //holds body tab index in case it has any.\r\n            tabindex = false,\r\n            //condition for detecting safari\r\n            isSafari = window.navigator.userAgent.indexOf('Safari') > -1 && window.navigator.userAgent.indexOf('Chrome') < 0,\r\n            //dialog building blocks\r\n            templates = {\r\n                dimmer:'<div class=\"ajs-dimmer\"></div>',\r\n                /*tab index required to fire click event before body focus*/\r\n                modal: '<div class=\"ajs-modal\" tabindex=\"0\"></div>',\r\n                dialog: '<div class=\"ajs-dialog\" tabindex=\"0\"></div>',\r\n                reset: '<button class=\"ajs-reset\"></button>',\r\n                commands: '<div class=\"ajs-commands\"><button class=\"ajs-pin\"></button><button class=\"ajs-maximize\"></button><button class=\"ajs-close\"></button></div>',\r\n                header: '<div class=\"ajs-header\"></div>',\r\n                body: '<div class=\"ajs-body\"></div>',\r\n                content: '<div class=\"ajs-content\"></div>',\r\n                footer: '<div class=\"ajs-footer\"></div>',\r\n                buttons: { primary: '<div class=\"ajs-primary ajs-buttons\"></div>', auxiliary: '<div class=\"ajs-auxiliary ajs-buttons\"></div>' },\r\n                button: '<button class=\"ajs-button\"></button>',\r\n                resizeHandle: '<div class=\"ajs-handle\"></div>',\r\n            },\r\n            //common class names\r\n            classes = {\r\n                animationIn: 'ajs-in',\r\n                animationOut: 'ajs-out',\r\n                base: 'alertify',\r\n                basic:'ajs-basic',\r\n                capture: 'ajs-capture',\r\n                closable:'ajs-closable',\r\n                fixed: 'ajs-fixed',\r\n                frameless:'ajs-frameless',\r\n                hidden: 'ajs-hidden',\r\n                maximize: 'ajs-maximize',\r\n                maximized: 'ajs-maximized',\r\n                maximizable:'ajs-maximizable',\r\n                modeless: 'ajs-modeless',\r\n                movable: 'ajs-movable',\r\n                noSelection: 'ajs-no-selection',\r\n                noOverflow: 'ajs-no-overflow',\r\n                noPadding:'ajs-no-padding',\r\n                pin:'ajs-pin',\r\n                pinnable:'ajs-pinnable',\r\n                prefix: 'ajs-',\r\n                resizable: 'ajs-resizable',\r\n                restore: 'ajs-restore',\r\n                shake:'ajs-shake',\r\n                unpinned:'ajs-unpinned',\r\n                noTransition:'ajs-no-transition'\r\n            };\r\n\r\n        /**\r\n         * Helper: initializes the dialog instance\r\n         * \r\n         * @return\t{Number}\tThe total count of currently open modals.\r\n         */\r\n        function initialize(instance){\r\n            \r\n            if(!instance.__internal){\r\n                //invoke preinit global hook\r\n                alertify.defaults.hooks.preinit(instance);\r\n                //no need to expose init after this.\r\n                delete instance.__init;\r\n              \r\n                //keep a copy of initial dialog settings\r\n                if(!instance.__settings){\r\n                    instance.__settings = copy(instance.settings);\r\n                }\r\n                \r\n                //get dialog buttons/focus setup\r\n                var setup;\r\n                if(typeof instance.setup === 'function'){\r\n                    setup = instance.setup();\r\n                    setup.options = setup.options  || {};\r\n                    setup.focus = setup.focus  || {};\r\n                }else{\r\n                    setup = {\r\n                        buttons:[],\r\n                        focus:{\r\n                            element:null,\r\n                            select:false\r\n                        },\r\n                        options:{\r\n                        }\r\n                    };\r\n                }\r\n                \r\n                //initialize hooks object.\r\n                if(typeof instance.hooks !== 'object'){\r\n                    instance.hooks = {};\r\n                }\r\n\r\n                //copy buttons defintion\r\n                var buttonsDefinition = [];\r\n                if(Array.isArray(setup.buttons)){\r\n                    for(var b=0;b<setup.buttons.length;b+=1){\r\n                        var ref  = setup.buttons[b],\r\n                            cpy = {};\r\n                        for (var i in ref) {\r\n                            if (ref.hasOwnProperty(i)) {\r\n                                cpy[i] = ref[i];\r\n                            }\r\n                        }\r\n                        buttonsDefinition.push(cpy);\r\n                    }\r\n                }\r\n\r\n                var internal = instance.__internal = {\r\n                    /**\r\n                     * Flag holding the open state of the dialog\r\n                     * \r\n                     * @type {Boolean}\r\n                     */\r\n                    isOpen:false,\r\n                    /**\r\n                     * Active element is the element that will receive focus after\r\n                     * closing the dialog. It defaults as the body tag, but gets updated\r\n                     * to the last focused element before the dialog was opened.\r\n                     *\r\n                     * @type {Node}\r\n                     */\r\n                    activeElement:document.body,\r\n                    timerIn:undefined,\r\n                    timerOut:undefined,\r\n                    buttons: buttonsDefinition,\r\n                    focus: setup.focus,\r\n                    options: {\r\n                        title: undefined,\r\n                        modal: undefined,\r\n                        basic:undefined,\r\n                        frameless:undefined,\r\n                        defaultFocusOff:undefined,\r\n                        pinned: undefined,\r\n                        movable: undefined,\r\n                        moveBounded:undefined,\r\n                        resizable: undefined,\r\n                        autoReset: undefined,\r\n                        closable: undefined,\r\n                        closableByDimmer: undefined,\r\n                        invokeOnCloseOff:undefined,\r\n                        maximizable: undefined,\r\n                        startMaximized: undefined,\r\n                        pinnable: undefined,\r\n                        transition: undefined,\r\n                        transitionOff: undefined,\r\n                        padding:undefined,\r\n                        overflow:undefined,\r\n                        onshow:undefined,\r\n                        onclosing:undefined,\r\n                        onclose:undefined,\r\n                        onfocus:undefined,\r\n                        onmove:undefined,\r\n                        onmoved:undefined,\r\n                        onresize:undefined,\r\n                        onresized:undefined,\r\n                        onmaximize:undefined,\r\n                        onmaximized:undefined,\r\n                        onrestore:undefined,\r\n                        onrestored:undefined\r\n                    },\r\n                    resetHandler:undefined,\r\n                    beginMoveHandler:undefined,\r\n                    beginResizeHandler:undefined,\r\n                    bringToFrontHandler:undefined,\r\n                    modalClickHandler:undefined,\r\n                    buttonsClickHandler:undefined,\r\n                    commandsClickHandler:undefined,\r\n                    transitionInHandler:undefined,\r\n                    transitionOutHandler:undefined,\r\n                    destroy:undefined\r\n                };\r\n\r\n                var elements = {};\r\n                //root node\r\n                elements.root = document.createElement('div');\r\n                //prevent FOUC in case of async styles loading.\r\n                elements.root.style.display = 'none';\r\n                elements.root.className = classes.base + ' ' + classes.hidden + ' ';\r\n\r\n                elements.root.innerHTML = templates.dimmer + templates.modal;\r\n                \r\n                //dimmer\r\n                elements.dimmer = elements.root.firstChild;\r\n\r\n                //dialog\r\n                elements.modal = elements.root.lastChild;\r\n                elements.modal.innerHTML = templates.dialog;\r\n                elements.dialog = elements.modal.firstChild;\r\n                elements.dialog.innerHTML = templates.reset + templates.commands + templates.header + templates.body + templates.footer + templates.resizeHandle + templates.reset;\r\n\r\n                //reset links\r\n                elements.reset = [];\r\n                elements.reset.push(elements.dialog.firstChild);\r\n                elements.reset.push(elements.dialog.lastChild);\r\n                \r\n                //commands\r\n                elements.commands = {};\r\n                elements.commands.container = elements.reset[0].nextSibling;\r\n                elements.commands.pin = elements.commands.container.firstChild;\r\n                elements.commands.maximize = elements.commands.pin.nextSibling;\r\n                elements.commands.close = elements.commands.maximize.nextSibling;\r\n                \r\n                //header\r\n                elements.header = elements.commands.container.nextSibling;\r\n\r\n                //body\r\n                elements.body = elements.header.nextSibling;\r\n                elements.body.innerHTML = templates.content;\r\n                elements.content = elements.body.firstChild;\r\n\r\n                //footer\r\n                elements.footer = elements.body.nextSibling;\r\n                elements.footer.innerHTML = templates.buttons.auxiliary + templates.buttons.primary;\r\n                \r\n                //resize handle\r\n                elements.resizeHandle = elements.footer.nextSibling;\r\n\r\n                //buttons\r\n                elements.buttons = {};\r\n                elements.buttons.auxiliary = elements.footer.firstChild;\r\n                elements.buttons.primary = elements.buttons.auxiliary.nextSibling;\r\n                elements.buttons.primary.innerHTML = templates.button;\r\n                elements.buttonTemplate = elements.buttons.primary.firstChild;\r\n                //remove button template\r\n                elements.buttons.primary.removeChild(elements.buttonTemplate);\r\n                               \r\n                for(var x=0; x < instance.__internal.buttons.length; x+=1) {\r\n                    var button = instance.__internal.buttons[x];\r\n                    \r\n                    // add to the list of used keys.\r\n                    if(usedKeys.indexOf(button.key) < 0){\r\n                        usedKeys.push(button.key);\r\n                    }\r\n\r\n                    button.element = elements.buttonTemplate.cloneNode();\r\n                    button.element.innerHTML = button.text;\r\n                    if(typeof button.className === 'string' &&  button.className !== ''){\r\n                        addClass(button.element, button.className);\r\n                    }\r\n                    for(var key in button.attrs){\r\n                        if(key !== 'className' && button.attrs.hasOwnProperty(key)){\r\n                            button.element.setAttribute(key, button.attrs[key]);\r\n                        }\r\n                    }\r\n                    if(button.scope === 'auxiliary'){\r\n                        elements.buttons.auxiliary.appendChild(button.element);\r\n                    }else{\r\n                        elements.buttons.primary.appendChild(button.element);\r\n                    }\r\n                }\r\n                //make elements pubic\r\n                instance.elements = elements;\r\n                \r\n                //save event handlers delegates\r\n                internal.resetHandler = delegate(instance, onReset);\r\n                internal.beginMoveHandler = delegate(instance, beginMove);\r\n                internal.beginResizeHandler = delegate(instance, beginResize);\r\n                internal.bringToFrontHandler = delegate(instance, bringToFront);\r\n                internal.modalClickHandler = delegate(instance, modalClickHandler);\r\n                internal.buttonsClickHandler = delegate(instance, buttonsClickHandler);\r\n                internal.commandsClickHandler = delegate(instance, commandsClickHandler);\r\n                internal.transitionInHandler = delegate(instance, handleTransitionInEvent);\r\n                internal.transitionOutHandler = delegate(instance, handleTransitionOutEvent);\r\n\r\n                //settings\r\n                for(var opKey in internal.options){\r\n                    if(setup.options[opKey] !== undefined){\r\n                        // if found in user options\r\n                        instance.set(opKey, setup.options[opKey]);\r\n                    }else if(alertify.defaults.hasOwnProperty(opKey)) {\r\n                        // else if found in defaults options\r\n                        instance.set(opKey, alertify.defaults[opKey]);\r\n                    }else if(opKey === 'title' ) {\r\n                        // else if title key, use alertify.defaults.glossary\r\n                        instance.set(opKey, alertify.defaults.glossary[opKey]);\r\n                    }\r\n                }\r\n\r\n                // allow dom customization\r\n                if(typeof instance.build === 'function'){\r\n                    instance.build();\r\n                }\r\n\r\n                //invoke postinit global hook\r\n                alertify.defaults.hooks.postinit(instance);\r\n            }\r\n\r\n            //add to the end of the DOM tree.\r\n            document.body.appendChild(instance.elements.root);\r\n        }\r\n\r\n        /**\r\n         * Helper: maintains scroll position\r\n         *\r\n         */\r\n        var scrollX, scrollY;\r\n        function saveScrollPosition(){\r\n            scrollX = getScrollLeft();\r\n            scrollY = getScrollTop();\r\n        }\r\n        function restoreScrollPosition(){\r\n            window.scrollTo(scrollX, scrollY);\r\n        }\r\n\r\n        /**\r\n         * Helper: adds/removes no-overflow class from body\r\n         *\r\n         */\r\n        function ensureNoOverflow(){\r\n            var requiresNoOverflow = 0;\r\n            for(var x=0;x<openDialogs.length;x+=1){\r\n                var instance = openDialogs[x];\r\n                if(instance.isModal() || instance.isMaximized()){\r\n                    requiresNoOverflow+=1;\r\n                }\r\n            }\r\n            if(requiresNoOverflow === 0 && document.body.className.indexOf(classes.noOverflow) >= 0){\r\n                //last open modal or last maximized one\r\n                removeClass(document.body, classes.noOverflow);\r\n                preventBodyShift(false);\r\n            }else if(requiresNoOverflow > 0 && document.body.className.indexOf(classes.noOverflow) < 0){\r\n                //first open modal or first maximized one\r\n                preventBodyShift(true);\r\n                addClass(document.body, classes.noOverflow);\r\n            }\r\n        }\r\n        var top = '', topScroll = 0;\r\n        /**\r\n         * Helper: prevents body shift.\r\n         *\r\n         */\r\n        function preventBodyShift(add){\r\n            if(alertify.defaults.preventBodyShift){\r\n                if(add && document.documentElement.scrollHeight > document.documentElement.clientHeight ){//&& openDialogs[openDialogs.length-1].elements.dialog.clientHeight <= document.documentElement.clientHeight){\r\n                    topScroll = scrollY;\r\n                    top = window.getComputedStyle(document.body).top;\r\n                    addClass(document.body, classes.fixed);\r\n                    document.body.style.top = -scrollY + 'px';\r\n                } else if(!add) {\r\n                    scrollY = topScroll;\r\n                    document.body.style.top = top;\r\n                    removeClass(document.body, classes.fixed);\r\n                    restoreScrollPosition();\r\n                }\r\n            }\r\n        }\r\n\t\t\r\n        /**\r\n         * Sets the name of the transition used to show/hide the dialog\r\n         * \r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         */\r\n        function updateTransition(instance, value, oldValue){\r\n            if(typeof oldValue === 'string'){\r\n                removeClass(instance.elements.root,classes.prefix +  oldValue);\r\n            }\r\n            addClass(instance.elements.root, classes.prefix + value);\r\n            reflow = instance.elements.root.offsetWidth;\r\n        }\r\n\r\n        /**\r\n         * Toggles the dialog no transition \r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updateTransitionOff(instance){\r\n            if (instance.get('transitionOff')) {\r\n                // add class\r\n                addClass(instance.elements.root, classes.noTransition);\r\n            } else {\r\n                // remove class\r\n                removeClass(instance.elements.root, classes.noTransition);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Toggles the dialog display mode\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updateDisplayMode(instance){\r\n            if(instance.get('modal')){\r\n\r\n                //make modal\r\n                removeClass(instance.elements.root, classes.modeless);\r\n\r\n                //only if open\r\n                if(instance.isOpen()){\r\n                    unbindModelessEvents(instance);\r\n\r\n                    //in case a pinned modless dialog was made modal while open.\r\n                    updateAbsPositionFix(instance);\r\n\r\n                    ensureNoOverflow();\r\n                }\r\n            }else{\r\n                //make modelss\r\n                addClass(instance.elements.root, classes.modeless);\r\n\r\n                //only if open\r\n                if(instance.isOpen()){\r\n                    bindModelessEvents(instance);\r\n\r\n                    //in case pin/unpin was called while a modal is open\r\n                    updateAbsPositionFix(instance);\r\n\r\n                    ensureNoOverflow();\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Toggles the dialog basic view mode \r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updateBasicMode(instance){\r\n            if (instance.get('basic')) {\r\n                // add class\r\n                addClass(instance.elements.root, classes.basic);\r\n            } else {\r\n                // remove class\r\n                removeClass(instance.elements.root, classes.basic);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Toggles the dialog frameless view mode \r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updateFramelessMode(instance){\r\n            if (instance.get('frameless')) {\r\n                // add class\r\n                addClass(instance.elements.root, classes.frameless);\r\n            } else {\r\n                // remove class\r\n                removeClass(instance.elements.root, classes.frameless);\r\n            }\r\n        }\r\n\t\t\r\n        /**\r\n         * Helper: Brings the modeless dialog to front, attached to modeless dialogs.\r\n         *\r\n         * @param {Event} event Focus event\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function bringToFront(event, instance){\r\n            \r\n            // Do not bring to front if preceeded by an open modal\r\n            var index = openDialogs.indexOf(instance);\r\n            for(var x=index+1;x<openDialogs.length;x+=1){\r\n                if(openDialogs[x].isModal()){\r\n                    return;\r\n                }\r\n            }\r\n\t\t\t\r\n            // Bring to front by making it the last child.\r\n            if(document.body.lastChild !== instance.elements.root){\r\n                document.body.appendChild(instance.elements.root);\r\n                //also make sure its at the end of the list\r\n                openDialogs.splice(openDialogs.indexOf(instance),1);\r\n                openDialogs.push(instance);\r\n                setFocus(instance);\r\n            }\r\n\t\t\t\r\n            return false;\r\n        }\r\n\t\t\r\n        /**\r\n         * Helper: reflects dialogs options updates\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         * @param {String} option The updated option name.\r\n         *\r\n         * @return\t{undefined}\t\r\n         */\r\n        function optionUpdated(instance, option, oldValue, newValue){\r\n            switch(option){\r\n            case 'title':\r\n                instance.setHeader(newValue);\r\n                break;\r\n            case 'modal':\r\n                updateDisplayMode(instance);\r\n                break;\r\n            case 'basic':\r\n                updateBasicMode(instance);\r\n                break;\r\n            case 'frameless':\r\n                updateFramelessMode(instance);\r\n                break;\r\n            case 'pinned':\r\n                updatePinned(instance);\r\n                break;\r\n            case 'closable':\r\n                updateClosable(instance);\r\n                break;\r\n            case 'maximizable':\r\n                updateMaximizable(instance);\r\n                break;\r\n            case 'pinnable':\r\n                updatePinnable(instance);\r\n                break;\r\n            case 'movable':\r\n                updateMovable(instance);\r\n                break;\r\n            case 'resizable':\r\n                updateResizable(instance);\r\n                break;\r\n            case 'padding':\r\n                if(newValue){\r\n                    removeClass(instance.elements.root, classes.noPadding);\r\n                }else if(instance.elements.root.className.indexOf(classes.noPadding) < 0){\r\n                    addClass(instance.elements.root, classes.noPadding);\r\n                }\r\n                break;\r\n            case 'overflow':\r\n                if(newValue){\r\n                    removeClass(instance.elements.root, classes.noOverflow);\r\n                }else if(instance.elements.root.className.indexOf(classes.noOverflow) < 0){\r\n                    addClass(instance.elements.root, classes.noOverflow);\r\n                }\r\n                break;\r\n            case 'transition':\r\n                updateTransition(instance,newValue, oldValue);\r\n                break;\r\n            case 'transitionOff':\r\n                updateTransitionOff(instance);\r\n                break;\r\n            }\r\n\r\n            // internal on option updated event\r\n            if(typeof instance.hooks.onupdate === 'function'){\r\n                instance.hooks.onupdate.call(instance, option, oldValue, newValue);\r\n            }\r\n        }\r\n\t\t\r\n        /**\r\n         * Helper: reflects dialogs options updates\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         * @param {Object} obj The object to set/get a value on/from.\r\n         * @param {Function} callback The callback function to call if the key was found.\r\n         * @param {String|Object} key A string specifying a propery name or a collection of key value pairs.\r\n         * @param {Object} value Optional, the value associated with the key (in case it was a string).\r\n         * @param {String} option The updated option name.\r\n         *\r\n         * @return\t{Object} result object \r\n         *\tThe result objects has an 'op' property, indicating of this is a SET or GET operation.\r\n         *\t\tGET: \r\n         *\t\t- found: a flag indicating if the key was found or not.\r\n         *\t\t- value: the property value.\r\n         *\t\tSET:\r\n         *\t\t- items: a list of key value pairs of the properties being set.\r\n         *\t\t\t\teach contains:\r\n         *\t\t\t\t\t- found: a flag indicating if the key was found or not.\r\n         *\t\t\t\t\t- key: the property key.\r\n         *\t\t\t\t\t- value: the property value.\r\n         */\r\n        function update(instance, obj, callback, key, value){\r\n            var result = {op:undefined, items: [] };\r\n            if(typeof value === 'undefined' && typeof key === 'string') {\r\n                //get\r\n                result.op = 'get';\r\n                if(obj.hasOwnProperty(key)){\r\n                    result.found = true;\r\n                    result.value = obj[key];\r\n                }else{\r\n                    result.found = false;\r\n                    result.value = undefined;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                var old;\r\n                //set\r\n                result.op = 'set';\r\n                if(typeof key === 'object'){\r\n                    //set multiple\r\n                    var args = key;\r\n                    for (var prop in args) {\r\n                        if (obj.hasOwnProperty(prop)) {\r\n                            if(obj[prop] !== args[prop]){\r\n                                old = obj[prop];\r\n                                obj[prop] = args[prop];\r\n                                callback.call(instance,prop, old, args[prop]);\r\n                            }\r\n                            result.items.push({ 'key': prop, 'value': args[prop], 'found':true});\r\n                        }else{\r\n                            result.items.push({ 'key': prop, 'value': args[prop], 'found':false});\r\n                        }\r\n                    }\r\n                } else if (typeof key === 'string'){\r\n                    //set single\r\n                    if (obj.hasOwnProperty(key)) {\r\n                        if(obj[key] !== value){\r\n                            old  = obj[key];\r\n                            obj[key] = value;\r\n                            callback.call(instance,key, old, value);\r\n                        }\r\n                        result.items.push({'key': key, 'value': value , 'found':true});\r\n\r\n                    }else{\r\n                        result.items.push({'key': key, 'value': value , 'found':false});\r\n                    }\r\n                } else {\r\n                    //invalid params\r\n                    throw new Error('args must be a string or object');\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n\r\n        /**\r\n         * Triggers a close event.\r\n         *\r\n         * @param {Object} instance\tThe dilog instance.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function triggerClose(instance) {\r\n            var found;\r\n            triggerCallback(instance, function (button) {\r\n                return found = instance.get('invokeOnCloseOff') !== true && (button.invokeOnClose === true);\r\n            });\r\n            //none of the buttons registered as onclose callback\r\n            //close the dialog\r\n            if (!found && instance.isOpen()) {\r\n                instance.close();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Dialogs commands event handler, attached to the dialog commands element.\r\n         *\r\n         * @param {Event} event\tDOM event object.\r\n         * @param {Object} instance\tThe dilog instance.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function commandsClickHandler(event, instance) {\r\n            var target = event.srcElement || event.target;\r\n            switch (target) {\r\n            case instance.elements.commands.pin:\r\n                if (!instance.isPinned()) {\r\n                    pin(instance);\r\n                } else {\r\n                    unpin(instance);\r\n                }\r\n                break;\r\n            case instance.elements.commands.maximize:\r\n                if (!instance.isMaximized()) {\r\n                    maximize(instance);\r\n                } else {\r\n                    restore(instance);\r\n                }\r\n                break;\r\n            case instance.elements.commands.close:\r\n                triggerClose(instance);\r\n                break;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Helper: pins the modeless dialog.\r\n         *\r\n         * @param {Object} instance\tThe dialog instance.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function pin(instance) {\r\n            //pin the dialog\r\n            instance.set('pinned', true);\r\n        }\r\n\r\n        /**\r\n         * Helper: unpins the modeless dialog.\r\n         *\r\n         * @param {Object} instance\tThe dilog instance.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function unpin(instance) {\r\n            //unpin the dialog \r\n            instance.set('pinned', false);\r\n        }\r\n\r\n\r\n        /**\r\n         * Helper: enlarges the dialog to fill the entire screen.\r\n         *\r\n         * @param {Object} instance\tThe dilog instance.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function maximize(instance) {\r\n            // allow custom `onmaximize` method\r\n            dispatchEvent('onmaximize', instance);\r\n            //maximize the dialog \r\n            addClass(instance.elements.root, classes.maximized);\r\n            if (instance.isOpen()) {\r\n                ensureNoOverflow();\r\n            }\r\n            // allow custom `onmaximized` method\r\n            dispatchEvent('onmaximized', instance);\r\n        }\r\n\r\n        /**\r\n         * Helper: returns the dialog to its former size.\r\n         *\r\n         * @param {Object} instance\tThe dilog instance.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function restore(instance) {\r\n            // allow custom `onrestore` method\r\n            dispatchEvent('onrestore', instance);\r\n            //maximize the dialog \r\n            removeClass(instance.elements.root, classes.maximized);\r\n            if (instance.isOpen()) {\r\n                ensureNoOverflow();\r\n            }\r\n            // allow custom `onrestored` method\r\n            dispatchEvent('onrestored', instance);\r\n        }\r\n\r\n        /**\r\n         * Show or hide the maximize box.\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         * @param {Boolean} on True to add the behavior, removes it otherwise.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updatePinnable(instance) {\r\n            if (instance.get('pinnable')) {\r\n                // add class\r\n                addClass(instance.elements.root, classes.pinnable);\r\n            } else {\r\n                // remove class\r\n                removeClass(instance.elements.root, classes.pinnable);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Helper: Fixes the absolutly positioned modal div position.\r\n         *\r\n         * @param {Object} instance The dialog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function addAbsPositionFix(instance) {\r\n            var scrollLeft = getScrollLeft();\r\n            instance.elements.modal.style.marginTop = getScrollTop() + 'px';\r\n            instance.elements.modal.style.marginLeft = scrollLeft + 'px';\r\n            instance.elements.modal.style.marginRight = (-scrollLeft) + 'px';\r\n        }\r\n\r\n        /**\r\n         * Helper: Removes the absolutly positioned modal div position fix.\r\n         *\r\n         * @param {Object} instance The dialog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function removeAbsPositionFix(instance) {\r\n            var marginTop = parseInt(instance.elements.modal.style.marginTop, 10);\r\n            var marginLeft = parseInt(instance.elements.modal.style.marginLeft, 10);\r\n            instance.elements.modal.style.marginTop = '';\r\n            instance.elements.modal.style.marginLeft = '';\r\n            instance.elements.modal.style.marginRight = '';\r\n\r\n            if (instance.isOpen()) {\r\n                var top = 0,\r\n                    left = 0\r\n                ;\r\n                if (instance.elements.dialog.style.top !== '') {\r\n                    top = parseInt(instance.elements.dialog.style.top, 10);\r\n                }\r\n                instance.elements.dialog.style.top = (top + (marginTop - getScrollTop())) + 'px';\r\n\r\n                if (instance.elements.dialog.style.left !== '') {\r\n                    left = parseInt(instance.elements.dialog.style.left, 10);\r\n                }\r\n                instance.elements.dialog.style.left = (left + (marginLeft - getScrollLeft())) + 'px';\r\n            }\r\n        }\r\n        /**\r\n         * Helper: Adds/Removes the absolutly positioned modal div position fix based on its pinned setting.\r\n         *\r\n         * @param {Object} instance The dialog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updateAbsPositionFix(instance) {\r\n            // if modeless and unpinned add fix\r\n            if (!instance.get('modal') && !instance.get('pinned')) {\r\n                addAbsPositionFix(instance);\r\n            } else {\r\n                removeAbsPositionFix(instance);\r\n            }\r\n        }\r\n        /**\r\n         * Toggles the dialog position lock | modeless only.\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         * @param {Boolean} on True to make it modal, false otherwise.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updatePinned(instance) {\r\n            if (instance.get('pinned')) {\r\n                removeClass(instance.elements.root, classes.unpinned);\r\n                if (instance.isOpen()) {\r\n                    removeAbsPositionFix(instance);\r\n                }\r\n            } else {\r\n                addClass(instance.elements.root, classes.unpinned);\r\n                if (instance.isOpen() && !instance.isModal()) {\r\n                    addAbsPositionFix(instance);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Show or hide the maximize box.\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         * @param {Boolean} on True to add the behavior, removes it otherwise.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updateMaximizable(instance) {\r\n            if (instance.get('maximizable')) {\r\n                // add class\r\n                addClass(instance.elements.root, classes.maximizable);\r\n            } else {\r\n                // remove class\r\n                removeClass(instance.elements.root, classes.maximizable);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Show or hide the close box.\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         * @param {Boolean} on True to add the behavior, removes it otherwise.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updateClosable(instance) {\r\n            if (instance.get('closable')) {\r\n                // add class\r\n                addClass(instance.elements.root, classes.closable);\r\n                bindClosableEvents(instance);\r\n            } else {\r\n                // remove class\r\n                removeClass(instance.elements.root, classes.closable);\r\n                unbindClosableEvents(instance);\r\n            }\r\n        }\r\n\r\n        \r\n        var cancelClick = false,// flag to cancel click event if already handled by end resize event (the mousedown, mousemove, mouseup sequence fires a click event.).\r\n            modalClickHandlerTS=0 // stores last click timestamp to prevent executing the handler twice on double click.\r\n            ;\r\n\r\n        /**\r\n         * Helper: closes the modal dialog when clicking the modal\r\n         *\r\n         * @param {Event} event\tDOM event object.\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function modalClickHandler(event, instance) {\r\n            if(event.timeStamp - modalClickHandlerTS > 200 && (modalClickHandlerTS = event.timeStamp) && !cancelClick){\r\n                var target = event.srcElement || event.target;\r\n                if (instance.get('closableByDimmer') === true && target === instance.elements.modal) {\r\n                    triggerClose(instance);\r\n                }\r\n            }\r\n            cancelClick = false;\r\n        }\r\n\r\n        // stores last call timestamp to prevent triggering the callback twice.\r\n        var callbackTS = 0;\r\n        // flag to cancel keyup event if already handled by click event (pressing Enter on a focusted button).\r\n        var cancelKeyup = false;\r\n        /** \r\n         * Helper: triggers a button callback\r\n         *\r\n         * @param {Object}\t\tThe dilog instance.\r\n         * @param {Function}\tCallback to check which button triggered the event.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function triggerCallback(instance, check) {\r\n            if(Date.now() - callbackTS > 200 && (callbackTS = Date.now())){\r\n                for (var idx = 0; idx < instance.__internal.buttons.length; idx += 1) {\r\n                    var button = instance.__internal.buttons[idx];\r\n                    if (!button.element.disabled && check(button)) {\r\n                        var closeEvent = createCloseEvent(idx, button);\r\n                        if (typeof instance.callback === 'function') {\r\n                            instance.callback.apply(instance, [closeEvent]);\r\n                        }\r\n                        //close the dialog only if not canceled.\r\n                        if (closeEvent.cancel === false) {\r\n                            instance.close();\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Clicks event handler, attached to the dialog footer.\r\n         *\r\n         * @param {Event}\t\tDOM event object.\r\n         * @param {Object}\t\tThe dilog instance.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function buttonsClickHandler(event, instance) {\r\n            var target = event.srcElement || event.target;\r\n            triggerCallback(instance, function (button) {\r\n                // if this button caused the click, cancel keyup event\r\n                return button.element === target && (cancelKeyup = true);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Keyup event handler, attached to the document.body\r\n         *\r\n         * @param {Event}\t\tDOM event object.\r\n         * @param {Object}\t\tThe dilog instance.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function keyupHandler(event) {\r\n            //hitting enter while button has focus will trigger keyup too.\r\n            //ignore if handled by clickHandler\r\n            if (cancelKeyup) {\r\n                cancelKeyup = false;\r\n                return;\r\n            }\r\n            var instance = openDialogs[openDialogs.length - 1];\r\n            var keyCode = event.keyCode;\r\n            if (instance.__internal.buttons.length === 0 && keyCode === keys.ESC && instance.get('closable') === true) {\r\n                triggerClose(instance);\r\n                return false;\r\n            }else if (usedKeys.indexOf(keyCode) > -1) {\r\n                triggerCallback(instance, function (button) {\r\n                    return button.key === keyCode;\r\n                });\r\n                return false;\r\n            }\r\n        }\r\n        /**\r\n        * Keydown event handler, attached to the document.body\r\n        *\r\n        * @param {Event}\t\tDOM event object.\r\n        * @param {Object}\t\tThe dilog instance.\r\n        * \r\n        * @return {undefined}\r\n        */\r\n        function keydownHandler(event) {\r\n            var instance = openDialogs[openDialogs.length - 1];\r\n            var keyCode = event.keyCode;\r\n            if (keyCode === keys.LEFT || keyCode === keys.RIGHT) {\r\n                var buttons = instance.__internal.buttons;\r\n                for (var x = 0; x < buttons.length; x += 1) {\r\n                    if (document.activeElement === buttons[x].element) {\r\n                        switch (keyCode) {\r\n                        case keys.LEFT:\r\n                            buttons[(x || buttons.length) - 1].element.focus();\r\n                            return;\r\n                        case keys.RIGHT:\r\n                            buttons[(x + 1) % buttons.length].element.focus();\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            }else if (keyCode < keys.F12 + 1 && keyCode > keys.F1 - 1 && usedKeys.indexOf(keyCode) > -1) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n                triggerCallback(instance, function (button) {\r\n                    return button.key === keyCode;\r\n                });\r\n                return false;\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * Sets focus to proper dialog element\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         * @param {Node} [resetTarget=undefined] DOM element to reset focus to.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function setFocus(instance, resetTarget) {\r\n            // reset target has already been determined.\r\n            if (resetTarget) {\r\n                resetTarget.focus();\r\n            } else {\r\n                // current instance focus settings\r\n                var focus = instance.__internal.focus;\r\n                // the focus element.\r\n                var element = focus.element;\r\n\r\n                switch (typeof focus.element) {\r\n                // a number means a button index\r\n                case 'number':\r\n                    if (instance.__internal.buttons.length > focus.element) {\r\n                        //in basic view, skip focusing the buttons.\r\n                        if (instance.get('basic') === true) {\r\n                            element = instance.elements.reset[0];\r\n                        } else {\r\n                            element = instance.__internal.buttons[focus.element].element;\r\n                        }\r\n                    }\r\n                    break;\r\n                // a string means querySelector to select from dialog body contents.\r\n                case 'string':\r\n                    element = instance.elements.body.querySelector(focus.element);\r\n                    break;\r\n                // a function should return the focus element.\r\n                case 'function':\r\n                    element = focus.element.call(instance);\r\n                    break;\r\n                }\r\n\r\n                // if no focus element, default to first reset element.\r\n                if (instance.get('defaultFocusOff') === true || ((typeof element === 'undefined' || element === null) && instance.__internal.buttons.length === 0)) {\r\n                    element = instance.elements.reset[0];\r\n                }\r\n                // focus\r\n                if (element && element.focus) {\r\n                    element.focus();\r\n                    // if selectable\r\n                    if (focus.select && element.select) {\r\n                        element.select();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Focus event handler, attached to document.body and dialogs own reset links.\r\n         * handles the focus for modal dialogs only.\r\n         *\r\n         * @param {Event} event DOM focus event object.\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function onReset(event, instance) {\r\n\r\n            // should work on last modal if triggered from document.body \r\n            if (!instance) {\r\n                for (var x = openDialogs.length - 1; x > -1; x -= 1) {\r\n                    if (openDialogs[x].isModal()) {\r\n                        instance = openDialogs[x];\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if(instance) {\r\n                // if modal\r\n                if (instance.isModal()) {\r\n                    // determine reset target to enable forward/backward tab cycle.\r\n                    var firstReset = instance.elements.reset[0],\r\n                        lastReset = instance.elements.reset[1],\r\n                        lastFocusedElement = event.relatedTarget,\r\n                        within = instance.elements.root.contains(lastFocusedElement),\r\n                        target = event.srcElement || event.target,\r\n                        resetTarget;\r\n\r\n                    //if the previous focused element element was outside the modal do nthing\r\n                    if(  /*first show */\r\n                        (target === firstReset && !within) ||\r\n                         /*focus cycle */\r\n                        (target === lastReset && lastFocusedElement === firstReset)){\r\n                        return;\r\n                    }else if(target === lastReset || target === document.body){\r\n                        resetTarget = firstReset;\r\n                    }else if(target === firstReset && lastFocusedElement === lastReset){\r\n                        resetTarget = findTabbable(instance);\r\n                    }else if(target === firstReset && within){\r\n                        resetTarget = findTabbable(instance, true);\r\n                    }\r\n                    // focus\r\n                    setFocus(instance, resetTarget);\r\n                }\r\n            }\r\n        }\r\n        function findTabbable(instance, last){\r\n            var tabbables = [].slice.call(instance.elements.dialog.querySelectorAll(defaults.tabbable));\r\n            if(last){\r\n                tabbables.reverse();\r\n            }\r\n            for(var x=0;x<tabbables.length;x+=1){\r\n                var tabbable = tabbables[x];\r\n                //check if visible\r\n                if(!!(tabbable.offsetParent || tabbable.offsetWidth || tabbable.offsetHeight || tabbable.getClientRects().length)){\r\n                    return tabbable;\r\n                }\r\n            }\r\n        }\r\n        function recycleTab(event) {\r\n            var instance = openDialogs[openDialogs.length - 1];\r\n            if (instance && event.shiftKey && event.keyCode === keys.TAB) {\r\n                instance.elements.reset[1].focus();\r\n            }\r\n        }\r\n        /**\r\n         * Transition in transitionend event handler. \r\n         *\r\n         * @param {Event}\t\tTransitionEnd event object.\r\n         * @param {Object}\t\tThe dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function handleTransitionInEvent(event, instance) {\r\n            // clear the timer\r\n            clearTimeout(instance.__internal.timerIn);\r\n\r\n            // once transition is complete, set focus\r\n            setFocus(instance);\r\n\r\n            // allow handling key up after transition ended.\r\n            cancelKeyup = false;\r\n\r\n            // allow custom `onfocus` method\r\n            dispatchEvent('onfocus', instance);\r\n\r\n            // unbind the event\r\n            off(instance.elements.dialog, transition.type, instance.__internal.transitionInHandler);\r\n\r\n            removeClass(instance.elements.root, classes.animationIn);\r\n        }\r\n\r\n        /**\r\n         * Transition out transitionend event handler. \r\n         *\r\n         * @param {Event}\t\tTransitionEnd event object.\r\n         * @param {Object}\t\tThe dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function handleTransitionOutEvent(event, instance) {\r\n            // clear the timer\r\n            clearTimeout(instance.__internal.timerOut);\r\n            // unbind the event\r\n            off(instance.elements.dialog, transition.type, instance.__internal.transitionOutHandler);\r\n\r\n            // reset move updates\r\n            resetMove(instance);\r\n            // reset resize updates\r\n            resetResize(instance);\r\n\r\n            // restore if maximized\r\n            if (instance.isMaximized() && !instance.get('startMaximized')) {\r\n                restore(instance);\r\n            }\r\n\r\n            //destory the instance\r\n            if (typeof instance.__internal.destroy === 'function') {\r\n                instance.__internal.destroy.apply(instance);\r\n            }\r\n        }\r\n        /* Controls moving a dialog around */\r\n        //holde the current moving instance\r\n        var movable = null,\r\n            //holds the current X offset when move starts\r\n            offsetX = 0,\r\n            //holds the current Y offset when move starts\r\n            offsetY = 0,\r\n            xProp = 'pageX',\r\n            yProp = 'pageY',\r\n            bounds = null,\r\n            refreshTop = false,\r\n            moveDelegate = null\r\n        ;\r\n\r\n        /**\r\n         * Helper: sets the element top/left coordinates\r\n         *\r\n         * @param {Event} event\tDOM event object.\r\n         * @param {Node} element The element being moved.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function moveElement(event, element) {\r\n            var left = (event[xProp] - offsetX),\r\n                top  = (event[yProp] - offsetY);\r\n\r\n            if(refreshTop){\r\n                top -= document.body.scrollTop;\r\n            }\r\n           \r\n            element.style.left = left + 'px';\r\n            element.style.top = top + 'px';\r\n           \r\n        }\r\n        /**\r\n         * Helper: sets the element top/left coordinates within screen bounds\r\n         *\r\n         * @param {Event} event\tDOM event object.\r\n         * @param {Node} element The element being moved.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function moveElementBounded(event, element) {\r\n            var left = (event[xProp] - offsetX),\r\n                top  = (event[yProp] - offsetY);\r\n\r\n            if(refreshTop){\r\n                top -= document.body.scrollTop;\r\n            }\r\n            \r\n            element.style.left = Math.min(bounds.maxLeft, Math.max(bounds.minLeft, left)) + 'px';\r\n            if(refreshTop){\r\n                element.style.top = Math.min(bounds.maxTop, Math.max(bounds.minTop, top)) + 'px';\r\n            }else{\r\n                element.style.top = Math.max(bounds.minTop, top) + 'px';\r\n            }\r\n        }\r\n            \r\n\r\n        /**\r\n         * Triggers the start of a move event, attached to the header element mouse down event.\r\n         * Adds no-selection class to the body, disabling selection while moving.\r\n         *\r\n         * @param {Event} event\tDOM event object.\r\n         * @param {Object} instance The dilog instance.\r\n         * \r\n         * @return {Boolean} false\r\n         */\r\n        function beginMove(event, instance) {\r\n            if (resizable === null && !instance.isMaximized() && instance.get('movable')) {\r\n                var eventSrc, left=0, top=0;\r\n                if (event.type === 'touchstart') {\r\n                    event.preventDefault();\r\n                    eventSrc = event.targetTouches[0];\r\n                    xProp = 'clientX';\r\n                    yProp = 'clientY';\r\n                } else if (event.button === 0) {\r\n                    eventSrc = event;\r\n                }\r\n\r\n                if (eventSrc) {\r\n\r\n                    var element = instance.elements.dialog;\r\n                    addClass(element, classes.capture);\r\n\r\n                    if (element.style.left) {\r\n                        left = parseInt(element.style.left, 10);\r\n                    }\r\n\r\n                    if (element.style.top) {\r\n                        top = parseInt(element.style.top, 10);\r\n                    }\r\n                    \r\n                    offsetX = eventSrc[xProp] - left;\r\n                    offsetY = eventSrc[yProp] - top;\r\n\r\n                    if(instance.isModal()){\r\n                        offsetY += instance.elements.modal.scrollTop;\r\n                    }else if(instance.isPinned()){\r\n                        offsetY -= document.body.scrollTop;\r\n                    }\r\n                    \r\n                    if(instance.get('moveBounded')){\r\n                        var current = element,\r\n                            offsetLeft = -left,\r\n                            offsetTop = -top;\r\n                        \r\n                        //calc offset\r\n                        do {\r\n                            offsetLeft += current.offsetLeft;\r\n                            offsetTop += current.offsetTop;\r\n                        } while (current = current.offsetParent);\r\n                        \r\n                        bounds = {\r\n                            maxLeft : offsetLeft,\r\n                            minLeft : -offsetLeft,\r\n                            maxTop  : document.documentElement.clientHeight - element.clientHeight - offsetTop,\r\n                            minTop  : -offsetTop\r\n                        };\r\n                        moveDelegate = moveElementBounded;\r\n                    }else{\r\n                        bounds = null;\r\n                        moveDelegate = moveElement;\r\n                    }\r\n                    \r\n                    // allow custom `onmove` method\r\n                    dispatchEvent('onmove', instance);\r\n\r\n                    refreshTop = !instance.isModal() && instance.isPinned();\r\n                    movable = instance;\r\n                    moveDelegate(eventSrc, element);\r\n                    addClass(document.body, classes.noSelection);\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * The actual move handler,  attached to document.body mousemove event.\r\n         *\r\n         * @param {Event} event\tDOM event object.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function move(event) {\r\n            if (movable) {\r\n                var eventSrc;\r\n                if (event.type === 'touchmove') {\r\n                    event.preventDefault();\r\n                    eventSrc = event.targetTouches[0];\r\n                } else if (event.button === 0) {\r\n                    eventSrc = event;\r\n                }\r\n                if (eventSrc) {\r\n                    moveDelegate(eventSrc, movable.elements.dialog);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Triggers the end of a move event,  attached to document.body mouseup event.\r\n         * Removes no-selection class from document.body, allowing selection.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function endMove() {\r\n            if (movable) {\r\n                var instance = movable;\r\n                movable = bounds = null;\r\n                removeClass(document.body, classes.noSelection);\r\n                removeClass(instance.elements.dialog, classes.capture);\r\n                // allow custom `onmoved` method\r\n                dispatchEvent('onmoved', instance);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Resets any changes made by moving the element to its original state,\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function resetMove(instance) {\r\n            movable = null;\r\n            var element = instance.elements.dialog;\r\n            element.style.left = element.style.top = '';\r\n        }\r\n\r\n        /**\r\n         * Updates the dialog move behavior.\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         * @param {Boolean} on True to add the behavior, removes it otherwise.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updateMovable(instance) {\r\n            if (instance.get('movable')) {\r\n                // add class\r\n                addClass(instance.elements.root, classes.movable);\r\n                if (instance.isOpen()) {\r\n                    bindMovableEvents(instance);\r\n                }\r\n            } else {\r\n\r\n                //reset\r\n                resetMove(instance);\r\n                // remove class\r\n                removeClass(instance.elements.root, classes.movable);\r\n                if (instance.isOpen()) {\r\n                    unbindMovableEvents(instance);\r\n                }\r\n            }\r\n        }\r\n\r\n        /* Controls moving a dialog around */\r\n        //holde the current instance being resized\t\t\r\n        var resizable = null,\r\n            //holds the staring left offset when resize starts.\r\n            startingLeft = Number.Nan,\r\n            //holds the staring width when resize starts.\r\n            startingWidth = 0,\r\n            //holds the initial width when resized for the first time.\r\n            minWidth = 0,\r\n            //holds the offset of the resize handle.\r\n            handleOffset = 0\r\n        ;\r\n\r\n        /**\r\n         * Helper: sets the element width/height and updates left coordinate if neccessary.\r\n         *\r\n         * @param {Event} event\tDOM mousemove event object.\r\n         * @param {Node} element The element being moved.\r\n         * @param {Boolean} pinned A flag indicating if the element being resized is pinned to the screen.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function resizeElement(event, element, pageRelative) {\r\n\r\n            //calculate offsets from 0,0\r\n            var current = element;\r\n            var offsetLeft = 0;\r\n            var offsetTop = 0;\r\n            do {\r\n                offsetLeft += current.offsetLeft;\r\n                offsetTop += current.offsetTop;\r\n            } while (current = current.offsetParent);\r\n\r\n            // determine X,Y coordinates.\r\n            var X, Y;\r\n            if (pageRelative === true) {\r\n                X = event.pageX;\r\n                Y = event.pageY;\r\n            } else {\r\n                X = event.clientX;\r\n                Y = event.clientY;\r\n            }\r\n            // rtl handling\r\n            var isRTL = isRightToLeft();\r\n            if (isRTL) {\r\n                // reverse X \r\n                X = document.body.offsetWidth - X;\r\n                // if has a starting left, calculate offsetRight\r\n                if (!isNaN(startingLeft)) {\r\n                    offsetLeft = document.body.offsetWidth - offsetLeft - element.offsetWidth;\r\n                }\r\n            }\r\n\r\n            // set width/height\r\n            element.style.height = (Y - offsetTop + handleOffset) + 'px';\r\n            element.style.width = (X - offsetLeft + handleOffset) + 'px';\r\n\r\n            // if the element being resized has a starting left, maintain it.\r\n            // the dialog is centered, divide by half the offset to maintain the margins.\r\n            if (!isNaN(startingLeft)) {\r\n                var diff = Math.abs(element.offsetWidth - startingWidth) * 0.5;\r\n                if (isRTL) {\r\n                    //negate the diff, why?\r\n                    //when growing it should decrease left\r\n                    //when shrinking it should increase left\r\n                    diff *= -1;\r\n                }\r\n                if (element.offsetWidth > startingWidth) {\r\n                    //growing\r\n                    element.style.left = (startingLeft + diff) + 'px';\r\n                } else if (element.offsetWidth >= minWidth) {\r\n                    //shrinking\r\n                    element.style.left = (startingLeft - diff) + 'px';\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Triggers the start of a resize event, attached to the resize handle element mouse down event.\r\n         * Adds no-selection class to the body, disabling selection while moving.\r\n         *\r\n         * @param {Event} event\tDOM event object.\r\n         * @param {Object} instance The dilog instance.\r\n         * \r\n         * @return {Boolean} false\r\n         */\r\n        function beginResize(event, instance) {\r\n            if (!instance.isMaximized()) {\r\n                var eventSrc;\r\n                if (event.type === 'touchstart') {\r\n                    event.preventDefault();\r\n                    eventSrc = event.targetTouches[0];\r\n                } else if (event.button === 0) {\r\n                    eventSrc = event;\r\n                }\r\n                if (eventSrc) {\r\n                    // allow custom `onresize` method\r\n                    dispatchEvent('onresize', instance);\r\n                    \r\n                    resizable = instance;\r\n                    handleOffset = instance.elements.resizeHandle.offsetHeight / 2;\r\n                    var element = instance.elements.dialog;\r\n                    addClass(element, classes.capture);\r\n                    startingLeft = parseInt(element.style.left, 10);\r\n                    element.style.height = element.offsetHeight + 'px';\r\n                    element.style.minHeight = instance.elements.header.offsetHeight + instance.elements.footer.offsetHeight + 'px';\r\n                    element.style.width = (startingWidth = element.offsetWidth) + 'px';\r\n\r\n                    if (element.style.maxWidth !== 'none') {\r\n                        element.style.minWidth = (minWidth = element.offsetWidth) + 'px';\r\n                    }\r\n                    element.style.maxWidth = 'none';\r\n                    addClass(document.body, classes.noSelection);\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * The actual resize handler,  attached to document.body mousemove event.\r\n         *\r\n         * @param {Event} event\tDOM event object.\r\n         * \r\n         * @return {undefined}\r\n         */\r\n        function resize(event) {\r\n            if (resizable) {\r\n                var eventSrc;\r\n                if (event.type === 'touchmove') {\r\n                    event.preventDefault();\r\n                    eventSrc = event.targetTouches[0];\r\n                } else if (event.button === 0) {\r\n                    eventSrc = event;\r\n                }\r\n                if (eventSrc) {\r\n                    resizeElement(eventSrc, resizable.elements.dialog, !resizable.get('modal') && !resizable.get('pinned'));\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Triggers the end of a resize event,  attached to document.body mouseup event.\r\n         * Removes no-selection class from document.body, allowing selection.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function endResize() {\r\n            if (resizable) {\r\n                var instance = resizable;\r\n                resizable = null;\r\n                removeClass(document.body, classes.noSelection);\r\n                removeClass(instance.elements.dialog, classes.capture);\r\n                cancelClick = true;\r\n                // allow custom `onresized` method\r\n                dispatchEvent('onresized', instance);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Resets any changes made by resizing the element to its original state.\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function resetResize(instance) {\r\n            resizable = null;\r\n            var element = instance.elements.dialog;\r\n            if (element.style.maxWidth === 'none') {\r\n                //clear inline styles.\r\n                element.style.maxWidth = element.style.minWidth = element.style.width = element.style.height = element.style.minHeight = element.style.left = '';\r\n                //reset variables.\r\n                startingLeft = Number.Nan;\r\n                startingWidth = minWidth = handleOffset = 0;\r\n            }\r\n        }\r\n\r\n\r\n        /**\r\n         * Updates the dialog move behavior.\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         * @param {Boolean} on True to add the behavior, removes it otherwise.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function updateResizable(instance) {\r\n            if (instance.get('resizable')) {\r\n                // add class\r\n                addClass(instance.elements.root, classes.resizable);\r\n                if (instance.isOpen()) {\r\n                    bindResizableEvents(instance);\r\n                }\r\n            } else {\r\n                //reset\r\n                resetResize(instance);\r\n                // remove class\r\n                removeClass(instance.elements.root, classes.resizable);\r\n                if (instance.isOpen()) {\r\n                    unbindResizableEvents(instance);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Reset move/resize on window resize.\r\n         *\r\n         * @param {Event} event\twindow resize event object.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function windowResize(/*event*/) {\r\n            for (var x = 0; x < openDialogs.length; x += 1) {\r\n                var instance = openDialogs[x];\r\n                if (instance.get('autoReset')) {\r\n                    resetMove(instance);\r\n                    resetResize(instance);\r\n                }\r\n            }\r\n        }\r\n        /**\r\n         * Bind dialogs events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function bindEvents(instance) {\r\n            // if first dialog, hook global handlers\r\n            if (openDialogs.length === 1) {\r\n                //global\r\n                on(window, 'resize', windowResize);\r\n                on(document.body, 'keyup', keyupHandler);\r\n                on(document.body, 'keydown', keydownHandler);\r\n                on(document.body, 'focus', onReset);\r\n\r\n                //move\r\n                on(document.documentElement, 'mousemove', move);\r\n                on(document.documentElement, 'touchmove', move, false, false);\r\n                on(document.documentElement, 'mouseup', endMove);\r\n                on(document.documentElement, 'touchend', endMove);\r\n                //resize\r\n                on(document.documentElement, 'mousemove', resize);\r\n                on(document.documentElement, 'touchmove', resize, false, false);\r\n                on(document.documentElement, 'mouseup', endResize);\r\n                on(document.documentElement, 'touchend', endResize);\r\n            }\r\n\r\n            // common events\r\n            on(instance.elements.commands.container, 'click', instance.__internal.commandsClickHandler);\r\n            on(instance.elements.footer, 'click', instance.__internal.buttonsClickHandler);\r\n            on(instance.elements.reset[0], 'focusin', instance.__internal.resetHandler);\r\n            on(instance.elements.reset[0], 'keydown', recycleTab);\r\n            on(instance.elements.reset[1], 'focusin', instance.__internal.resetHandler);\r\n\r\n            //prevent handling key up when dialog is being opened by a key stroke.\r\n            cancelKeyup = true;\r\n            // hook in transition handler\r\n            on(instance.elements.dialog, transition.type, instance.__internal.transitionInHandler);\r\n\r\n            // modelss only events\r\n            if (!instance.get('modal')) {\r\n                bindModelessEvents(instance);\r\n            }\r\n\r\n            // resizable\r\n            if (instance.get('resizable')) {\r\n                bindResizableEvents(instance);\r\n            }\r\n\r\n            // movable\r\n            if (instance.get('movable')) {\r\n                bindMovableEvents(instance);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Unbind dialogs events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function unbindEvents(instance) {\r\n            // if last dialog, remove global handlers\r\n            if (openDialogs.length === 1) {\r\n                //global\r\n                off(window, 'resize', windowResize);\r\n                off(document.body, 'keyup', keyupHandler);\r\n                off(document.body, 'keydown', keydownHandler);\r\n                off(document.body, 'focus', onReset);\r\n                //move\r\n                off(document.documentElement, 'mousemove', move);\r\n                off(document.documentElement, 'mouseup', endMove);\r\n                //resize\r\n                off(document.documentElement, 'mousemove', resize);\r\n                off(document.documentElement, 'mouseup', endResize);\r\n            }\r\n\r\n            // common events\r\n            off(instance.elements.commands.container, 'click', instance.__internal.commandsClickHandler);\r\n            off(instance.elements.footer, 'click', instance.__internal.buttonsClickHandler);\r\n            off(instance.elements.reset[0], 'focusin', instance.__internal.resetHandler);\r\n            off(instance.elements.reset[0], 'keydown', recycleTab);\r\n            off(instance.elements.reset[1], 'focusin', instance.__internal.resetHandler);\r\n\r\n            // hook out transition handler\r\n            on(instance.elements.dialog, transition.type, instance.__internal.transitionOutHandler);\r\n\r\n            // modelss only events\r\n            if (!instance.get('modal')) {\r\n                unbindModelessEvents(instance);\r\n            }\r\n\r\n            // movable\r\n            if (instance.get('movable')) {\r\n                unbindMovableEvents(instance);\r\n            }\r\n\r\n            // resizable\r\n            if (instance.get('resizable')) {\r\n                unbindResizableEvents(instance);\r\n            }\r\n\r\n        }\r\n\r\n        /**\r\n         * Bind modeless specific events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function bindModelessEvents(instance) {\r\n            on(instance.elements.dialog, 'focus', instance.__internal.bringToFrontHandler, true);\r\n        }\r\n\r\n        /**\r\n         * Unbind modeless specific events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function unbindModelessEvents(instance) {\r\n            off(instance.elements.dialog, 'focus', instance.__internal.bringToFrontHandler, true);\r\n        }\r\n\r\n\r\n\r\n        /**\r\n         * Bind movable specific events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function bindMovableEvents(instance) {\r\n            on(instance.elements.header, 'mousedown', instance.__internal.beginMoveHandler);\r\n            on(instance.elements.header, 'touchstart', instance.__internal.beginMoveHandler, false, false);\r\n        }\r\n\r\n        /**\r\n         * Unbind movable specific events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function unbindMovableEvents(instance) {\r\n            off(instance.elements.header, 'mousedown', instance.__internal.beginMoveHandler);\r\n            off(instance.elements.header, 'touchstart', instance.__internal.beginMoveHandler, false, false);\r\n        }\r\n\r\n\r\n\r\n        /**\r\n         * Bind resizable specific events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function bindResizableEvents(instance) {\r\n            on(instance.elements.resizeHandle, 'mousedown', instance.__internal.beginResizeHandler);\r\n            on(instance.elements.resizeHandle, 'touchstart', instance.__internal.beginResizeHandler, false, false);\r\n        }\r\n\r\n        /**\r\n         * Unbind resizable specific events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function unbindResizableEvents(instance) {\r\n            off(instance.elements.resizeHandle, 'mousedown', instance.__internal.beginResizeHandler);\r\n            off(instance.elements.resizeHandle, 'touchstart', instance.__internal.beginResizeHandler, false, false);\r\n        }\r\n\r\n        /**\r\n         * Bind closable events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function bindClosableEvents(instance) {\r\n            on(instance.elements.modal, 'click', instance.__internal.modalClickHandler);\r\n        }\r\n\r\n        /**\r\n         * Unbind closable specific events\r\n         *\r\n         * @param {Object} instance The dilog instance.\r\n         *\r\n         * @return {undefined}\r\n         */\r\n        function unbindClosableEvents(instance) {\r\n            off(instance.elements.modal, 'click', instance.__internal.modalClickHandler);\r\n        }\r\n        // dialog API\r\n        return {\r\n            __init:initialize,\r\n            /**\r\n             * Check if dialog is currently open\r\n             *\r\n             * @return {Boolean}\r\n             */\r\n            isOpen: function () {\r\n                return this.__internal.isOpen;\r\n            },\r\n            isModal: function (){\r\n                return this.elements.root.className.indexOf(classes.modeless) < 0;\r\n            },\r\n            isMaximized:function(){\r\n                return this.elements.root.className.indexOf(classes.maximized) > -1;\r\n            },\r\n            isPinned:function(){\r\n                return this.elements.root.className.indexOf(classes.unpinned) < 0;\r\n            },\r\n            maximize:function(){\r\n                if(!this.isMaximized()){\r\n                    maximize(this);\r\n                }\r\n                return this;\r\n            },\r\n            restore:function(){\r\n                if(this.isMaximized()){\r\n                    restore(this);\r\n                }\r\n                return this;\r\n            },\r\n            pin:function(){\r\n                if(!this.isPinned()){\r\n                    pin(this);\r\n                }\r\n                return this;\r\n            },\r\n            unpin:function(){\r\n                if(this.isPinned()){\r\n                    unpin(this);\r\n                }\r\n                return this;\r\n            },\r\n            bringToFront:function(){\r\n                bringToFront(null, this);\r\n                return this;\r\n            },\r\n            /**\r\n             * Move the dialog to a specific x/y coordinates\r\n             *\r\n             * @param {Number} x    The new dialog x coordinate in pixels.\r\n             * @param {Number} y    The new dialog y coordinate in pixels.\r\n             *\r\n             * @return {Object} The dialog instance.\r\n             */\r\n            moveTo:function(x,y){\r\n                if(!isNaN(x) && !isNaN(y)){\r\n                    // allow custom `onmove` method\r\n                    dispatchEvent('onmove', this);\r\n                    \r\n                    var element = this.elements.dialog,\r\n                        current = element,\r\n                        offsetLeft = 0,\r\n                        offsetTop = 0;\r\n                    \r\n                    //subtract existing left,top\r\n                    if (element.style.left) {\r\n                        offsetLeft -= parseInt(element.style.left, 10);\r\n                    }\r\n                    if (element.style.top) {\r\n                        offsetTop -= parseInt(element.style.top, 10);\r\n                    }\r\n                    //calc offset\r\n                    do {\r\n                        offsetLeft += current.offsetLeft;\r\n                        offsetTop += current.offsetTop;\r\n                    } while (current = current.offsetParent);\r\n\r\n                    //calc left, top\r\n                    var left = (x - offsetLeft);\r\n                    var top  = (y - offsetTop);\r\n\r\n                    //// rtl handling\r\n                    if (isRightToLeft()) {\r\n                        left *= -1;\r\n                    }\r\n\r\n                    element.style.left = left + 'px';\r\n                    element.style.top = top + 'px';\r\n                    \r\n                    // allow custom `onmoved` method\r\n                    dispatchEvent('onmoved', this);\r\n                }\r\n                return this;\r\n            },\r\n            /**\r\n             * Resize the dialog to a specific width/height (the dialog must be 'resizable').\r\n             * The dialog can be resized to:\r\n             *  A minimum width equal to the initial display width\r\n             *  A minimum height equal to the sum of header/footer heights.\r\n             *\r\n             *\r\n             * @param {Number or String} width    The new dialog width in pixels or in percent.\r\n             * @param {Number or String} height   The new dialog height in pixels or in percent.\r\n             *\r\n             * @return {Object} The dialog instance.\r\n             */\r\n            resizeTo:function(width,height){\r\n                var w = parseFloat(width),\r\n                    h = parseFloat(height),\r\n                    regex = /(\\d*\\.\\d+|\\d+)%/\r\n                ;\r\n\r\n                if(!isNaN(w) && !isNaN(h) && this.get('resizable') === true){\r\n                    \r\n                    // allow custom `onresize` method\r\n                    dispatchEvent('onresize', this);\r\n                    \r\n                    if(('' + width).match(regex)){\r\n                        w = w / 100 * document.documentElement.clientWidth ;\r\n                    }\r\n\r\n                    if(('' + height).match(regex)){\r\n                        h = h / 100 * document.documentElement.clientHeight;\r\n                    }\r\n\r\n                    var element = this.elements.dialog;\r\n                    if (element.style.maxWidth !== 'none') {\r\n                        element.style.minWidth = (minWidth = element.offsetWidth) + 'px';\r\n                    }\r\n                    element.style.maxWidth = 'none';\r\n                    element.style.minHeight = this.elements.header.offsetHeight + this.elements.footer.offsetHeight + 'px';\r\n                    element.style.width = w + 'px';\r\n                    element.style.height = h + 'px';\r\n                    \r\n                    // allow custom `onresized` method\r\n                    dispatchEvent('onresized', this);\r\n                }\r\n                return this;\r\n            },\r\n            /**\r\n             * Gets or Sets dialog settings/options \r\n             *\r\n             * @param {String|Object} key A string specifying a propery name or a collection of key/value pairs.\r\n             * @param {Object} value Optional, the value associated with the key (in case it was a string).\r\n             *\r\n             * @return {undefined}\r\n             */\r\n            setting : function (key, value) {\r\n                var self = this;\r\n                var result = update(this, this.__internal.options, function(k,o,n){ optionUpdated(self,k,o,n); }, key, value);\r\n                if(result.op === 'get'){\r\n                    if(result.found){\r\n                        return result.value;\r\n                    }else if(typeof this.settings !== 'undefined'){\r\n                        return update(this, this.settings, this.settingUpdated || function(){}, key, value).value;\r\n                    }else{\r\n                        return undefined;\r\n                    }\r\n                }else if(result.op === 'set'){\r\n                    if(result.items.length > 0){\r\n                        var callback = this.settingUpdated || function(){};\r\n                        for(var x=0;x<result.items.length;x+=1){\r\n                            var item = result.items[x];\r\n                            if(!item.found && typeof this.settings !== 'undefined'){\r\n                                update(this, this.settings, callback, item.key, item.value);\r\n                            }\r\n                        }\r\n                    }\r\n                    return this;\r\n                }\r\n            },\r\n            /**\r\n             * [Alias] Sets dialog settings/options \r\n             */\r\n            set:function(key, value){\r\n                this.setting(key,value);\r\n                return this;\r\n            },\r\n            /**\r\n             * [Alias] Gets dialog settings/options \r\n             */\r\n            get:function(key){\r\n                return this.setting(key);\r\n            },\r\n            /**\r\n            * Sets dialog header\r\n            * @content {string or element}\r\n            *\r\n            * @return {undefined}\r\n            */\r\n            setHeader:function(content){\r\n                if(typeof content === 'string'){\r\n                    clearContents(this.elements.header);\r\n                    this.elements.header.innerHTML = content;\r\n                }else if (content instanceof window.HTMLElement && this.elements.header.firstChild !== content){\r\n                    clearContents(this.elements.header);\r\n                    this.elements.header.appendChild(content);\r\n                }\r\n                return this;\r\n            },\r\n            /**\r\n            * Sets dialog contents\r\n            * @content {string or element}\r\n            *\r\n            * @return {undefined}\r\n            */\r\n            setContent:function(content){\r\n                if(typeof content === 'string'){\r\n                    clearContents(this.elements.content);\r\n                    this.elements.content.innerHTML = content;\r\n                }else if (content instanceof window.HTMLElement && this.elements.content.firstChild !== content){\r\n                    clearContents(this.elements.content);\r\n                    this.elements.content.appendChild(content);\r\n                }\r\n                return this;\r\n            },\r\n            /**\r\n             * Show the dialog as modal\r\n             *\r\n             * @return {Object} the dialog instance.\r\n             */\r\n            showModal: function(className){\r\n                return this.show(true, className);\r\n            },\r\n            /**\r\n             * Show the dialog\r\n             *\r\n             * @return {Object} the dialog instance.\r\n             */\r\n            show: function (modal, className) {\r\n                \r\n                // ensure initialization\r\n                initialize(this);\r\n\r\n                if ( !this.__internal.isOpen ) {\r\n\r\n                    // add to open dialogs\r\n                    this.__internal.isOpen = true;\r\n                    openDialogs.push(this);\r\n\r\n                    // save last focused element\r\n                    if(alertify.defaults.maintainFocus){\r\n                        this.__internal.activeElement = document.activeElement;\r\n                    }\r\n\r\n                    // set tabindex attribute on body element this allows script to give it focusable\r\n                    if(!document.body.hasAttribute('tabindex')) {\r\n                        document.body.setAttribute( 'tabindex', tabindex = '0');\r\n                    }\r\n\r\n                    //allow custom dom manipulation updates before showing the dialog.\r\n                    if(typeof this.prepare === 'function'){\r\n                        this.prepare();\r\n                    }\r\n\r\n                    bindEvents(this);\r\n\r\n                    if(modal !== undefined){\r\n                        this.set('modal', modal);\r\n                    }\r\n\r\n                    //save scroll to prevent document jump\r\n                    saveScrollPosition();\r\n\r\n                    ensureNoOverflow();\r\n\r\n                    // allow custom dialog class on show\r\n                    if(typeof className === 'string' && className !== ''){\r\n                        this.__internal.className = className;\r\n                        addClass(this.elements.root, className);\r\n                    }\r\n\r\n                    // maximize if start maximized\r\n                    if ( this.get('startMaximized')) {\r\n                        this.maximize();\r\n                    }else if(this.isMaximized()){\r\n                        restore(this);\r\n                    }\r\n\r\n                    updateAbsPositionFix(this);\r\n                    this.elements.root.removeAttribute('style');\r\n                    removeClass(this.elements.root, classes.animationOut);\r\n                    addClass(this.elements.root, classes.animationIn);\r\n\r\n                    // set 1s fallback in case transition event doesn't fire\r\n                    clearTimeout( this.__internal.timerIn);\r\n                    this.__internal.timerIn = setTimeout( this.__internal.transitionInHandler, transition.supported ? 1000 : 100 );\r\n\r\n                    if(isSafari){\r\n                        // force desktop safari reflow\r\n                        var root = this.elements.root;\r\n                        root.style.display  = 'none';\r\n                        setTimeout(function(){root.style.display  = 'block';}, 0);\r\n                    }\r\n\r\n                    //reflow\r\n                    reflow = this.elements.root.offsetWidth;\r\n                  \r\n                    // show dialog\r\n                    removeClass(this.elements.root, classes.hidden);\r\n\r\n                    //restore scroll to prevent document jump\r\n                    restoreScrollPosition();\r\n\r\n                    // internal on show event\r\n                    if(typeof this.hooks.onshow === 'function'){\r\n                        this.hooks.onshow.call(this);\r\n                    }\r\n\r\n                    // allow custom `onshow` method\r\n                    dispatchEvent('onshow', this);\r\n\r\n                }else{\r\n                    // reset move updates\r\n                    resetMove(this);\r\n                    // reset resize updates\r\n                    resetResize(this);\r\n                    // shake the dialog to indicate its already open\r\n                    addClass(this.elements.dialog, classes.shake);\r\n                    var self = this;\r\n                    setTimeout(function(){\r\n                        removeClass(self.elements.dialog, classes.shake);\r\n                    },200);\r\n                }\r\n                return this;\r\n            },\r\n            /**\r\n             * Close the dialog\r\n             *\r\n             * @return {Object} The dialog instance\r\n             */\r\n            close: function () {\r\n                if (this.__internal.isOpen ) {\r\n                    // custom `onclosing` event\r\n                    if(dispatchEvent('onclosing', this) !== false){\r\n\r\n                        unbindEvents(this);\r\n\r\n                        removeClass(this.elements.root, classes.animationIn);\r\n                        addClass(this.elements.root, classes.animationOut);\r\n\r\n                        // set 1s fallback in case transition event doesn't fire\r\n                        clearTimeout( this.__internal.timerOut );\r\n                        this.__internal.timerOut = setTimeout( this.__internal.transitionOutHandler, transition.supported ? 1000 : 100 );\r\n                        // hide dialog\r\n                        addClass(this.elements.root, classes.hidden);\r\n                        //reflow\r\n                        reflow = this.elements.modal.offsetWidth;\r\n\r\n                        // return focus to the last active element\r\n                        if (alertify.defaults.maintainFocus && this.__internal.activeElement) {\r\n                            this.__internal.activeElement.focus();\r\n                            this.__internal.activeElement = null;\r\n                        }\r\n\r\n                        // remove custom dialog class on hide\r\n                        if (typeof this.__internal.className !== 'undefined' && this.__internal.className !== '') {\r\n                            removeClass(this.elements.root, this.__internal.className);\r\n                        }\r\n\r\n                        // internal on close event\r\n                        if(typeof this.hooks.onclose === 'function'){\r\n                            this.hooks.onclose.call(this);\r\n                        }\r\n\r\n                        // allow custom `onclose` method\r\n                        dispatchEvent('onclose', this);\r\n\r\n                        //remove from open dialogs\r\n                        openDialogs.splice(openDialogs.indexOf(this),1);\r\n                        this.__internal.isOpen = false;\r\n\r\n                        ensureNoOverflow();\r\n                    }\r\n\r\n                }\r\n                // last dialog and tab index was set by us, remove it.\r\n                if(!openDialogs.length && tabindex === '0'){\r\n                    document.body.removeAttribute('tabindex');\r\n                }\r\n                return this;\r\n            },\r\n            /**\r\n             * Close all open dialogs except this.\r\n             *\r\n             * @return {undefined}\r\n             */\r\n            closeOthers:function(){\r\n                alertify.closeAll(this);\r\n                return this;\r\n            },\r\n            /**\r\n             * Destroys this dialog instance\r\n             *\r\n             * @return {undefined}\r\n             */\r\n            destroy:function(){\r\n                if(this.__internal) {\r\n                    if (this.__internal.isOpen ) {\r\n                        //mark dialog for destruction, this will be called on tranistionOut event.\r\n                        this.__internal.destroy = function(){\r\n                            destruct(this, initialize);\r\n                        };\r\n                        //close the dialog to unbind all events.\r\n                        this.close();\r\n                    }else if(!this.__internal.destroy){\r\n                        destruct(this, initialize);\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n        };\r\n\t} () );\r\n    var notifier = (function () {\r\n        var reflow,\r\n            element,\r\n            openInstances = [],\r\n            classes = defaults.notifier.classes,\r\n            baseClass = classes.base;\r\n        /**\r\n         * Helper: initializes the notifier instance\r\n         *\r\n         */\r\n        function initialize(instance) {\r\n\r\n            if (!instance.__internal) {\r\n                instance.__internal = {\r\n                    position: alertify.defaults.notifier.position,\r\n                    delay: alertify.defaults.notifier.delay,\r\n                };\r\n\r\n                element = document.createElement('DIV');\r\n                var transitionOff = 'transitionOff' in defaults.notifier ? defaults.notifier.transitionOff : defaults.transitionOff;\r\n                if(transitionOff){\r\n                    baseClass = classes.base + ' ajs-no-transition';\r\n                }\r\n                updatePosition(instance);\r\n            }\r\n\r\n            //add to DOM tree.\r\n            if (element.parentNode !== document.body) {\r\n                document.body.appendChild(element);\r\n            }\r\n        }\r\n\r\n        function pushInstance(instance) {\r\n            instance.__internal.pushed = true;\r\n            openInstances.push(instance);\r\n        }\r\n        function popInstance(instance) {\r\n            openInstances.splice(openInstances.indexOf(instance), 1);\r\n            instance.__internal.pushed = false;\r\n        }\r\n        /**\r\n         * Helper: update the notifier instance position\r\n         *\r\n         */\r\n        function updatePosition(instance) {\r\n            element.className = baseClass;\r\n            switch (instance.__internal.position) {\r\n            case 'top-right':\r\n                addClass(element, classes.top + ' ' + classes.right);\r\n                break;\r\n            case 'top-left':\r\n                addClass(element, classes.top + ' ' + classes.left);\r\n                break;\r\n            case 'top-center':\r\n                addClass(element, classes.top + ' ' + classes.center);\r\n                break;\r\n            case 'bottom-left':\r\n                addClass(element, classes.bottom + ' ' + classes.left);\r\n                break;\r\n            case 'bottom-center':\r\n                addClass(element, classes.bottom + ' ' + classes.center);\r\n                break;\r\n\r\n            default:\r\n            case 'bottom-right':\r\n                addClass(element, classes.bottom + ' ' + classes.right);\r\n                break;\r\n            }\r\n        }\r\n\r\n        /**\r\n        * creates a new notification message\r\n        *\r\n        * @param  {DOMElement} message\tThe notifier message element\r\n        * @param  {Number} wait   Time (in ms) to wait before the message is dismissed, a value of 0 means keep open till clicked.\r\n        * @param  {Function} callback A callback function to be invoked when the message is dismissed.\r\n        *\r\n        * @return {undefined}\r\n        */\r\n        function create(div, callback) {\r\n\r\n            function clickDelegate(event, instance) {\r\n                if(!instance.__internal.closeButton || event.target.getAttribute('data-close') === 'true'){\r\n                    instance.dismiss(true);\r\n                }\r\n            }\r\n\r\n            function transitionDone(event, instance) {\r\n                // unbind event\r\n                off(instance.element, transition.type, transitionDone);\r\n                // remove the message\r\n                element.removeChild(instance.element);\r\n            }\r\n\r\n            function initialize(instance) {\r\n                if (!instance.__internal) {\r\n                    instance.__internal = {\r\n                        pushed: false,\r\n                        delay : undefined,\r\n                        timer: undefined,\r\n                        clickHandler: undefined,\r\n                        transitionEndHandler: undefined,\r\n                        transitionTimeout: undefined\r\n                    };\r\n                    instance.__internal.clickHandler = delegate(instance, clickDelegate);\r\n                    instance.__internal.transitionEndHandler = delegate(instance, transitionDone);\r\n                }\r\n                return instance;\r\n            }\r\n            function clearTimers(instance) {\r\n                clearTimeout(instance.__internal.timer);\r\n                clearTimeout(instance.__internal.transitionTimeout);\r\n            }\r\n            return initialize({\r\n                /* notification DOM element*/\r\n                element: div,\r\n                /*\r\n                 * Pushes a notification message\r\n                 * @param {string or DOMElement} content The notification message content\r\n                 * @param {Number} wait The time (in seconds) to wait before the message is dismissed, a value of 0 means keep open till clicked.\r\n                 *\r\n                 */\r\n                push: function (_content, _wait) {\r\n                    if (!this.__internal.pushed) {\r\n\r\n                        pushInstance(this);\r\n                        clearTimers(this);\r\n\r\n                        var content, wait;\r\n                        switch (arguments.length) {\r\n                        case 0:\r\n                            wait = this.__internal.delay;\r\n                            break;\r\n                        case 1:\r\n                            if (typeof (_content) === 'number') {\r\n                                wait = _content;\r\n                            } else {\r\n                                content = _content;\r\n                                wait = this.__internal.delay;\r\n                            }\r\n                            break;\r\n                        case 2:\r\n                            content = _content;\r\n                            wait = _wait;\r\n                            break;\r\n                        }\r\n                        this.__internal.closeButton = alertify.defaults.notifier.closeButton;\r\n                        // set contents\r\n                        if (typeof content !== 'undefined') {\r\n                            this.setContent(content);\r\n                        }\r\n                        // append or insert\r\n                        if (notifier.__internal.position.indexOf('top') < 0) {\r\n                            element.appendChild(this.element);\r\n                        } else {\r\n                            element.insertBefore(this.element, element.firstChild);\r\n                        }\r\n                        reflow = this.element.offsetWidth;\r\n                        addClass(this.element, classes.visible);\r\n                        // attach click event\r\n                        on(this.element, 'click', this.__internal.clickHandler);\r\n                        return this.delay(wait);\r\n                    }\r\n                    return this;\r\n                },\r\n                /*\r\n                 * {Function} callback function to be invoked before dismissing the notification message.\r\n                 * Remarks: A return value === 'false' will cancel the dismissal\r\n                 *\r\n                 */\r\n                ondismiss: function () { },\r\n                /*\r\n                 * {Function} callback function to be invoked when the message is dismissed.\r\n                 *\r\n                 */\r\n                callback: callback,\r\n                /*\r\n                 * Dismisses the notification message\r\n                 * @param {Boolean} clicked A flag indicating if the dismissal was caused by a click.\r\n                 *\r\n                 */\r\n                dismiss: function (clicked) {\r\n                    if (this.__internal.pushed) {\r\n                        clearTimers(this);\r\n                        if (!(typeof this.ondismiss === 'function' && this.ondismiss.call(this) === false)) {\r\n                            //detach click event\r\n                            off(this.element, 'click', this.__internal.clickHandler);\r\n                            // ensure element exists\r\n                            if (typeof this.element !== 'undefined' && this.element.parentNode === element) {\r\n                                //transition end or fallback\r\n                                this.__internal.transitionTimeout = setTimeout(this.__internal.transitionEndHandler, transition.supported ? 1000 : 100);\r\n                                removeClass(this.element, classes.visible);\r\n\r\n                                // custom callback on dismiss\r\n                                if (typeof this.callback === 'function') {\r\n                                    this.callback.call(this, clicked);\r\n                                }\r\n                            }\r\n                            popInstance(this);\r\n                        }\r\n                    }\r\n                    return this;\r\n                },\r\n                /*\r\n                 * Delays the notification message dismissal\r\n                 * @param {Number} wait The time (in seconds) to wait before the message is dismissed, a value of 0 means keep open till clicked.\r\n                 *\r\n                 */\r\n                delay: function (wait) {\r\n                    clearTimers(this);\r\n                    this.__internal.delay = typeof wait !== 'undefined' && !isNaN(+wait) ? +wait : notifier.__internal.delay;\r\n                    if (this.__internal.delay > 0) {\r\n                        var  self = this;\r\n                        this.__internal.timer = setTimeout(function () { self.dismiss(); }, this.__internal.delay * 1000);\r\n                    }\r\n                    return this;\r\n                },\r\n                /*\r\n                 * Sets the notification message contents\r\n                 * @param {string or DOMElement} content The notification message content\r\n                 *\r\n                 */\r\n                setContent: function (content) {\r\n                    if (typeof content === 'string') {\r\n                        clearContents(this.element);\r\n                        this.element.innerHTML = content;\r\n                    } else if (content instanceof window.HTMLElement && this.element.firstChild !== content) {\r\n                        clearContents(this.element);\r\n                        this.element.appendChild(content);\r\n                    }\r\n                    if(this.__internal.closeButton){\r\n                        var close = document.createElement('span');\r\n                        addClass(close, classes.close);\r\n                        close.setAttribute('data-close', true);\r\n                        this.element.appendChild(close);\r\n                    }\r\n                    return this;\r\n                },\r\n                /*\r\n                 * Dismisses all open notifications except this.\r\n                 *\r\n                 */\r\n                dismissOthers: function () {\r\n                    notifier.dismissAll(this);\r\n                    return this;\r\n                }\r\n            });\r\n        }\r\n\r\n        //notifier api\r\n        return {\r\n            /**\r\n             * Gets or Sets notifier settings.\r\n             *\r\n             * @param {string} key The setting name\r\n             * @param {Variant} value The setting value.\r\n             *\r\n             * @return {Object}\tif the called as a setter, return the notifier instance.\r\n             */\r\n            setting: function (key, value) {\r\n                //ensure init\r\n                initialize(this);\r\n\r\n                if (typeof value === 'undefined') {\r\n                    //get\r\n                    return this.__internal[key];\r\n                } else {\r\n                    //set\r\n                    switch (key) {\r\n                    case 'position':\r\n                        this.__internal.position = value;\r\n                        updatePosition(this);\r\n                        break;\r\n                    case 'delay':\r\n                        this.__internal.delay = value;\r\n                        break;\r\n                    }\r\n                }\r\n                return this;\r\n            },\r\n            /**\r\n             * [Alias] Sets dialog settings/options\r\n             */\r\n            set:function(key,value){\r\n                this.setting(key,value);\r\n                return this;\r\n            },\r\n            /**\r\n             * [Alias] Gets dialog settings/options\r\n             */\r\n            get:function(key){\r\n                return this.setting(key);\r\n            },\r\n            /**\r\n             * Creates a new notification message\r\n             *\r\n             * @param {string} type The type of notification message (simply a CSS class name 'ajs-{type}' to be added).\r\n             * @param {Function} callback  A callback function to be invoked when the message is dismissed.\r\n             *\r\n             * @return {undefined}\r\n             */\r\n            create: function (type, callback) {\r\n                //ensure notifier init\r\n                initialize(this);\r\n                //create new notification message\r\n                var div = document.createElement('div');\r\n                div.className = classes.message + ((typeof type === 'string' && type !== '') ? ' ' + classes.prefix + type : '');\r\n                return create(div, callback);\r\n            },\r\n            /**\r\n             * Dismisses all open notifications.\r\n             *\r\n             * @param {Object} excpet [optional] The notification object to exclude from dismissal.\r\n             *\r\n             */\r\n            dismissAll: function (except) {\r\n                var clone = openInstances.slice(0);\r\n                for (var x = 0; x < clone.length; x += 1) {\r\n                    var  instance = clone[x];\r\n                    if (except === undefined || except !== instance) {\r\n                        instance.dismiss();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    })();\r\n\r\n    /**\r\n     * Alertify public API\r\n     * This contains everything that is exposed through the alertify object.\r\n     *\r\n     * @return {Object}\r\n     */\r\n    function Alertify() {\r\n\r\n        // holds a references of created dialogs\r\n        var dialogs = {};\r\n\r\n        /**\r\n         * Extends a given prototype by merging properties from base into sub.\r\n         *\r\n         * @sub {Object} sub The prototype being overwritten.\r\n         * @base {Object} base The prototype being written.\r\n         *\r\n         * @return {Object} The extended prototype.\r\n         */\r\n        function extend(sub, base) {\r\n            // copy dialog pototype over definition.\r\n            for (var prop in base) {\r\n                if (base.hasOwnProperty(prop)) {\r\n                    sub[prop] = base[prop];\r\n                }\r\n            }\r\n            return sub;\r\n        }\r\n\r\n\r\n        /**\r\n        * Helper: returns a dialog instance from saved dialogs.\r\n        * and initializes the dialog if its not already initialized.\r\n        *\r\n        * @name {String} name The dialog name.\r\n        *\r\n        * @return {Object} The dialog instance.\r\n        */\r\n        function get_dialog(name) {\r\n            var dialog = dialogs[name].dialog;\r\n            //initialize the dialog if its not already initialized.\r\n            if (dialog && typeof dialog.__init === 'function') {\r\n                dialog.__init(dialog);\r\n            }\r\n            return dialog;\r\n        }\r\n\r\n        /**\r\n         * Helper:  registers a new dialog definition.\r\n         *\r\n         * @name {String} name The dialog name.\r\n         * @Factory {Function} Factory a function resposible for creating dialog prototype.\r\n         * @transient {Boolean} transient True to create a new dialog instance each time the dialog is invoked, false otherwise.\r\n         * @base {String} base the name of another dialog to inherit from.\r\n         *\r\n         * @return {Object} The dialog definition.\r\n         */\r\n        function register(name, Factory, transient, base) {\r\n            var definition = {\r\n                dialog: null,\r\n                factory: Factory\r\n            };\r\n\r\n            //if this is based on an existing dialog, create a new definition\r\n            //by applying the new protoype over the existing one.\r\n            if (base !== undefined) {\r\n                definition.factory = function () {\r\n                    return extend(new dialogs[base].factory(), new Factory());\r\n                };\r\n            }\r\n\r\n            if (!transient) {\r\n                //create a new definition based on dialog\r\n                definition.dialog = extend(new definition.factory(), dialog);\r\n            }\r\n            return dialogs[name] = definition;\r\n        }\r\n\r\n        return {\r\n            /**\r\n             * Alertify defaults\r\n             * \r\n             * @type {Object}\r\n             */\r\n            defaults: defaults,\r\n            /**\r\n             * Dialogs factory \r\n             *\r\n             * @param {string}      Dialog name.\r\n             * @param {Function}    A Dialog factory function.\r\n             * @param {Boolean}     Indicates whether to create a singleton or transient dialog.\r\n             * @param {String}      The name of the base type to inherit from.\r\n             */\r\n            dialog: function (name, Factory, transient, base) {\r\n\r\n                // get request, create a new instance and return it.\r\n                if (typeof Factory !== 'function') {\r\n                    return get_dialog(name);\r\n                }\r\n\r\n                if (this.hasOwnProperty(name)) {\r\n                    throw new Error('alertify.dialog: name already exists');\r\n                }\r\n\r\n                // register the dialog\r\n                var definition = register(name, Factory, transient, base);\r\n\r\n                if (transient) {\r\n\r\n                    // make it public\r\n                    this[name] = function () {\r\n                        //if passed with no params, consider it a get request\r\n                        if (arguments.length === 0) {\r\n                            return definition.dialog;\r\n                        } else {\r\n                            var instance = extend(new definition.factory(), dialog);\r\n                            //ensure init\r\n                            if (instance && typeof instance.__init === 'function') {\r\n                                instance.__init(instance);\r\n                            }\r\n                            instance['main'].apply(instance, arguments);\r\n                            return instance['show'].apply(instance);\r\n                        }\r\n                    };\r\n                } else {\r\n                    // make it public\r\n                    this[name] = function () {\r\n                        //ensure init\r\n                        if (definition.dialog && typeof definition.dialog.__init === 'function') {\r\n                            definition.dialog.__init(definition.dialog);\r\n                        }\r\n                        //if passed with no params, consider it a get request\r\n                        if (arguments.length === 0) {\r\n                            return definition.dialog;\r\n                        } else {\r\n                            var dialog = definition.dialog;\r\n                            dialog['main'].apply(definition.dialog, arguments);\r\n                            return dialog['show'].apply(definition.dialog);\r\n                        }\r\n                    };\r\n                }\r\n            },\r\n            /**\r\n             * Close all open dialogs.\r\n             *\r\n             * @param {Object} excpet [optional] The dialog object to exclude from closing.\r\n             *\r\n             * @return {undefined}\r\n             */\r\n            closeAll: function (except) {\r\n                var clone = openDialogs.slice(0);\r\n                for (var x = 0; x < clone.length; x += 1) {\r\n                    var instance = clone[x];\r\n                    if (except === undefined || except !== instance) {\r\n                        instance.close();\r\n                    }\r\n                }\r\n            },\r\n            /**\r\n             * Gets or Sets dialog settings/options. if the dialog is transient, this call does nothing.\r\n             *\r\n             * @param {string} name The dialog name.\r\n             * @param {String|Object} key A string specifying a propery name or a collection of key/value pairs.\r\n             * @param {Variant} value Optional, the value associated with the key (in case it was a string).\r\n             *\r\n             * @return {undefined}\r\n             */\r\n            setting: function (name, key, value) {\r\n\r\n                if (name === 'notifier') {\r\n                    return notifier.setting(key, value);\r\n                }\r\n\r\n                var dialog = get_dialog(name);\r\n                if (dialog) {\r\n                    return dialog.setting(key, value);\r\n                }\r\n            },\r\n            /**\r\n             * [Alias] Sets dialog settings/options \r\n             */\r\n            set: function(name,key,value){\r\n                return this.setting(name, key,value);\r\n            },\r\n            /**\r\n             * [Alias] Gets dialog settings/options \r\n             */\r\n            get: function(name, key){\r\n                return this.setting(name, key);\r\n            },\r\n            /**\r\n             * Creates a new notification message.\r\n             * If a type is passed, a class name \"ajs-{type}\" will be added.\r\n             * This allows for custom look and feel for various types of notifications.\r\n             *\r\n             * @param  {String | DOMElement}    [message=undefined]\t\tMessage text\r\n             * @param  {String}                 [type='']\t\t\t\tType of log message\r\n             * @param  {String}                 [wait='']\t\t\t\tTime (in seconds) to wait before auto-close\r\n             * @param  {Function}               [callback=undefined]\tA callback function to be invoked when the log is closed.\r\n             *\r\n             * @return {Object} Notification object.\r\n             */\r\n            notify: function (message, type, wait, callback) {\r\n                return notifier.create(type, callback).push(message, wait);\r\n            },\r\n            /**\r\n             * Creates a new notification message.\r\n             *\r\n             * @param  {String}\t\t[message=undefined]\t\tMessage text\r\n             * @param  {String}     [wait='']\t\t\t\tTime (in seconds) to wait before auto-close\r\n             * @param  {Function}\t[callback=undefined]\tA callback function to be invoked when the log is closed.\r\n             *\r\n             * @return {Object} Notification object.\r\n             */\r\n            message: function (message, wait, callback) {\r\n                return notifier.create(null, callback).push(message, wait);\r\n            },\r\n            /**\r\n             * Creates a new notification message of type 'success'.\r\n             *\r\n             * @param  {String}\t\t[message=undefined]\t\tMessage text\r\n             * @param  {String}     [wait='']\t\t\t\tTime (in seconds) to wait before auto-close\r\n             * @param  {Function}\t[callback=undefined]\tA callback function to be invoked when the log is closed.\r\n             *\r\n             * @return {Object} Notification object.\r\n             */\r\n            success: function (message, wait, callback) {\r\n                return notifier.create('success', callback).push(message, wait);\r\n            },\r\n            /**\r\n             * Creates a new notification message of type 'error'.\r\n             *\r\n             * @param  {String}\t\t[message=undefined]\t\tMessage text\r\n             * @param  {String}     [wait='']\t\t\t\tTime (in seconds) to wait before auto-close\r\n             * @param  {Function}\t[callback=undefined]\tA callback function to be invoked when the log is closed.\r\n             *\r\n             * @return {Object} Notification object.\r\n             */\r\n            error: function (message, wait, callback) {\r\n                return notifier.create('error', callback).push(message, wait);\r\n            },\r\n            /**\r\n             * Creates a new notification message of type 'warning'.\r\n             *\r\n             * @param  {String}\t\t[message=undefined]\t\tMessage text\r\n             * @param  {String}     [wait='']\t\t\t\tTime (in seconds) to wait before auto-close\r\n             * @param  {Function}\t[callback=undefined]\tA callback function to be invoked when the log is closed.\r\n             *\r\n             * @return {Object} Notification object.\r\n             */\r\n            warning: function (message, wait, callback) {\r\n                return notifier.create('warning', callback).push(message, wait);\r\n            },\r\n            /**\r\n             * Dismisses all open notifications\r\n             *\r\n             * @return {undefined}\r\n             */\r\n            dismissAll: function () {\r\n                notifier.dismissAll();\r\n            }\r\n        };\r\n    }\r\n    var alertify = new Alertify();\r\n\r\n    /**\r\n    * Alert dialog definition\r\n    *\r\n    * invoked by:\r\n    *\talertify.alert(message);\r\n    *\talertify.alert(title, message);\r\n    *\talertify.alert(message, onok);\r\n    *\talertify.alert(title, message, onok);\r\n     */\r\n    alertify.dialog('alert', function () {\r\n        return {\r\n            main: function (_title, _message, _onok) {\r\n                var title, message, onok;\r\n                switch (arguments.length) {\r\n                case 1:\r\n                    message = _title;\r\n                    break;\r\n                case 2:\r\n                    if (typeof _message === 'function') {\r\n                        message = _title;\r\n                        onok = _message;\r\n                    } else {\r\n                        title = _title;\r\n                        message = _message;\r\n                    }\r\n                    break;\r\n                case 3:\r\n                    title = _title;\r\n                    message = _message;\r\n                    onok = _onok;\r\n                    break;\r\n                }\r\n                this.set('title', title);\r\n                this.set('message', message);\r\n                this.set('onok', onok);\r\n                return this;\r\n            },\r\n            setup: function () {\r\n                return {\r\n                    buttons: [\r\n                        {\r\n                            text: alertify.defaults.glossary.ok,\r\n                            key: keys.ESC,\r\n                            invokeOnClose: true,\r\n                            className: alertify.defaults.theme.ok,\r\n                        }\r\n                    ],\r\n                    focus: {\r\n                        element: 0,\r\n                        select: false\r\n                    },\r\n                    options: {\r\n                        maximizable: false,\r\n                        resizable: false\r\n                    }\r\n                };\r\n            },\r\n            build: function () {\r\n                // nothing\r\n            },\r\n            prepare: function () {\r\n                //nothing\r\n            },\r\n            setMessage: function (message) {\r\n                this.setContent(message);\r\n            },\r\n            settings: {\r\n                message: undefined,\r\n                onok: undefined,\r\n                label: undefined,\r\n            },\r\n            settingUpdated: function (key, oldValue, newValue) {\r\n                switch (key) {\r\n                case 'message':\r\n                    this.setMessage(newValue);\r\n                    break;\r\n                case 'label':\r\n                    if (this.__internal.buttons[0].element) {\r\n                        this.__internal.buttons[0].element.innerHTML = newValue;\r\n                    }\r\n                    break;\r\n                }\r\n            },\r\n            callback: function (closeEvent) {\r\n                if (typeof this.get('onok') === 'function') {\r\n                    var returnValue = this.get('onok').call(this, closeEvent);\r\n                    if (typeof returnValue !== 'undefined') {\r\n                        closeEvent.cancel = !returnValue;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    });\r\n    /**\r\n     * Confirm dialog object\r\n     *\r\n     *\talertify.confirm(message);\r\n     *\talertify.confirm(message, onok);\r\n     *\talertify.confirm(message, onok, oncancel);\r\n     *\talertify.confirm(title, message, onok, oncancel);\r\n     */\r\n    alertify.dialog('confirm', function () {\r\n\r\n        var autoConfirm = {\r\n            timer: null,\r\n            index: null,\r\n            text: null,\r\n            duration: null,\r\n            task: function (event, self) {\r\n                if (self.isOpen()) {\r\n                    self.__internal.buttons[autoConfirm.index].element.innerHTML = autoConfirm.text + ' (&#8207;' + autoConfirm.duration + '&#8207;) ';\r\n                    autoConfirm.duration -= 1;\r\n                    if (autoConfirm.duration === -1) {\r\n                        clearAutoConfirm(self);\r\n                        var button = self.__internal.buttons[autoConfirm.index];\r\n                        var closeEvent = createCloseEvent(autoConfirm.index, button);\r\n\r\n                        if (typeof self.callback === 'function') {\r\n                            self.callback.apply(self, [closeEvent]);\r\n                        }\r\n                        //close the dialog.\r\n                        if (closeEvent.close !== false) {\r\n                            self.close();\r\n                        }\r\n                    }\r\n                } else {\r\n                    clearAutoConfirm(self);\r\n                }\r\n            }\r\n        };\r\n\r\n        function clearAutoConfirm(self) {\r\n            if (autoConfirm.timer !== null) {\r\n                clearInterval(autoConfirm.timer);\r\n                autoConfirm.timer = null;\r\n                self.__internal.buttons[autoConfirm.index].element.innerHTML = autoConfirm.text;\r\n            }\r\n        }\r\n\r\n        function startAutoConfirm(self, index, duration) {\r\n            clearAutoConfirm(self);\r\n            autoConfirm.duration = duration;\r\n            autoConfirm.index = index;\r\n            autoConfirm.text = self.__internal.buttons[index].element.innerHTML;\r\n            autoConfirm.timer = setInterval(delegate(self, autoConfirm.task), 1000);\r\n            autoConfirm.task(null, self);\r\n        }\r\n\r\n\r\n        return {\r\n            main: function (_title, _message, _onok, _oncancel) {\r\n                var title, message, onok, oncancel;\r\n                switch (arguments.length) {\r\n                case 1:\r\n                    message = _title;\r\n                    break;\r\n                case 2:\r\n                    message = _title;\r\n                    onok = _message;\r\n                    break;\r\n                case 3:\r\n                    message = _title;\r\n                    onok = _message;\r\n                    oncancel = _onok;\r\n                    break;\r\n                case 4:\r\n                    title = _title;\r\n                    message = _message;\r\n                    onok = _onok;\r\n                    oncancel = _oncancel;\r\n                    break;\r\n                }\r\n                this.set('title', title);\r\n                this.set('message', message);\r\n                this.set('onok', onok);\r\n                this.set('oncancel', oncancel);\r\n                return this;\r\n            },\r\n            setup: function () {\r\n                return {\r\n                    buttons: [\r\n                        {\r\n                            text: alertify.defaults.glossary.ok,\r\n                            key: keys.ENTER,\r\n                            className: alertify.defaults.theme.ok,\r\n                        },\r\n                        {\r\n                            text: alertify.defaults.glossary.cancel,\r\n                            key: keys.ESC,\r\n                            invokeOnClose: true,\r\n                            className: alertify.defaults.theme.cancel,\r\n                        }\r\n                    ],\r\n                    focus: {\r\n                        element: 0,\r\n                        select: false\r\n                    },\r\n                    options: {\r\n                        maximizable: false,\r\n                        resizable: false\r\n                    }\r\n                };\r\n            },\r\n            build: function () {\r\n                //nothing\r\n            },\r\n            prepare: function () {\r\n                //nothing\r\n            },\r\n            setMessage: function (message) {\r\n                this.setContent(message);\r\n            },\r\n            settings: {\r\n                message: null,\r\n                labels: null,\r\n                onok: null,\r\n                oncancel: null,\r\n                defaultFocus: null,\r\n                reverseButtons: null,\r\n            },\r\n            settingUpdated: function (key, oldValue, newValue) {\r\n                switch (key) {\r\n                case 'message':\r\n                    this.setMessage(newValue);\r\n                    break;\r\n                case 'labels':\r\n                    if ('ok' in newValue && this.__internal.buttons[0].element) {\r\n                        this.__internal.buttons[0].text = newValue.ok;\r\n                        this.__internal.buttons[0].element.innerHTML = newValue.ok;\r\n                    }\r\n                    if ('cancel' in newValue && this.__internal.buttons[1].element) {\r\n                        this.__internal.buttons[1].text = newValue.cancel;\r\n                        this.__internal.buttons[1].element.innerHTML = newValue.cancel;\r\n                    }\r\n                    break;\r\n                case 'reverseButtons':\r\n                    if (newValue === true) {\r\n                        this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element);\r\n                    } else {\r\n                        this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);\r\n                    }\r\n                    break;\r\n                case 'defaultFocus':\r\n                    this.__internal.focus.element = newValue === 'ok' ? 0 : 1;\r\n                    break;\r\n                }\r\n            },\r\n            callback: function (closeEvent) {\r\n                clearAutoConfirm(this);\r\n                var returnValue;\r\n                switch (closeEvent.index) {\r\n                case 0:\r\n                    if (typeof this.get('onok') === 'function') {\r\n                        returnValue = this.get('onok').call(this, closeEvent);\r\n                        if (typeof returnValue !== 'undefined') {\r\n                            closeEvent.cancel = !returnValue;\r\n                        }\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    if (typeof this.get('oncancel') === 'function') {\r\n                        returnValue = this.get('oncancel').call(this, closeEvent);\r\n                        if (typeof returnValue !== 'undefined') {\r\n                            closeEvent.cancel = !returnValue;\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n            },\r\n            autoOk: function (duration) {\r\n                startAutoConfirm(this, 0, duration);\r\n                return this;\r\n            },\r\n            autoCancel: function (duration) {\r\n                startAutoConfirm(this, 1, duration);\r\n                return this;\r\n            }\r\n        };\r\n    });\r\n    /**\r\n     * Prompt dialog object\r\n     *\r\n     * invoked by:\r\n     *\talertify.prompt(message);\r\n     *\talertify.prompt(message, value);\r\n     *\talertify.prompt(message, value, onok);\r\n     *\talertify.prompt(message, value, onok, oncancel);\r\n     *\talertify.prompt(title, message, value, onok, oncancel);\r\n     */\r\n    alertify.dialog('prompt', function () {\r\n        var input = document.createElement('INPUT');\r\n        var p = document.createElement('P');\r\n        return {\r\n            main: function (_title, _message, _value, _onok, _oncancel) {\r\n                var title, message, value, onok, oncancel;\r\n                switch (arguments.length) {\r\n                case 1:\r\n                    message = _title;\r\n                    break;\r\n                case 2:\r\n                    message = _title;\r\n                    value = _message;\r\n                    break;\r\n                case 3:\r\n                    message = _title;\r\n                    value = _message;\r\n                    onok = _value;\r\n                    break;\r\n                case 4:\r\n                    message = _title;\r\n                    value = _message;\r\n                    onok = _value;\r\n                    oncancel = _onok;\r\n                    break;\r\n                case 5:\r\n                    title = _title;\r\n                    message = _message;\r\n                    value = _value;\r\n                    onok = _onok;\r\n                    oncancel = _oncancel;\r\n                    break;\r\n                }\r\n                this.set('title', title);\r\n                this.set('message', message);\r\n                this.set('value', value);\r\n                this.set('onok', onok);\r\n                this.set('oncancel', oncancel);\r\n                return this;\r\n            },\r\n            setup: function () {\r\n                return {\r\n                    buttons: [\r\n                        {\r\n                            text: alertify.defaults.glossary.ok,\r\n                            key: keys.ENTER,\r\n                            className: alertify.defaults.theme.ok,\r\n                        },\r\n                        {\r\n                            text: alertify.defaults.glossary.cancel,\r\n                            key: keys.ESC,\r\n                            invokeOnClose: true,\r\n                            className: alertify.defaults.theme.cancel,\r\n                        }\r\n                    ],\r\n                    focus: {\r\n                        element: input,\r\n                        select: true\r\n                    },\r\n                    options: {\r\n                        maximizable: false,\r\n                        resizable: false\r\n                    }\r\n                };\r\n            },\r\n            build: function () {\r\n                input.className = alertify.defaults.theme.input;\r\n                input.setAttribute('type', 'text');\r\n                input.value = this.get('value');\r\n                this.elements.content.appendChild(p);\r\n                this.elements.content.appendChild(input);\r\n            },\r\n            prepare: function () {\r\n                //nothing\r\n            },\r\n            setMessage: function (message) {\r\n                if (typeof message === 'string') {\r\n                    clearContents(p);\r\n                    p.innerHTML = message;\r\n                } else if (message instanceof window.HTMLElement && p.firstChild !== message) {\r\n                    clearContents(p);\r\n                    p.appendChild(message);\r\n                }\r\n            },\r\n            settings: {\r\n                message: undefined,\r\n                labels: undefined,\r\n                onok: undefined,\r\n                oncancel: undefined,\r\n                value: '',\r\n                type:'text',\r\n                reverseButtons: undefined,\r\n            },\r\n            settingUpdated: function (key, oldValue, newValue) {\r\n                switch (key) {\r\n                case 'message':\r\n                    this.setMessage(newValue);\r\n                    break;\r\n                case 'value':\r\n                    input.value = newValue;\r\n                    break;\r\n                case 'type':\r\n                    switch (newValue) {\r\n                    case 'text':\r\n                    case 'color':\r\n                    case 'date':\r\n                    case 'datetime-local':\r\n                    case 'email':\r\n                    case 'month':\r\n                    case 'number':\r\n                    case 'password':\r\n                    case 'search':\r\n                    case 'tel':\r\n                    case 'time':\r\n                    case 'week':\r\n                        input.type = newValue;\r\n                        break;\r\n                    default:\r\n                        input.type = 'text';\r\n                        break;\r\n                    }\r\n                    break;\r\n                case 'labels':\r\n                    if (newValue.ok && this.__internal.buttons[0].element) {\r\n                        this.__internal.buttons[0].element.innerHTML = newValue.ok;\r\n                    }\r\n                    if (newValue.cancel && this.__internal.buttons[1].element) {\r\n                        this.__internal.buttons[1].element.innerHTML = newValue.cancel;\r\n                    }\r\n                    break;\r\n                case 'reverseButtons':\r\n                    if (newValue === true) {\r\n                        this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element);\r\n                    } else {\r\n                        this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);\r\n                    }\r\n                    break;\r\n                }\r\n            },\r\n            callback: function (closeEvent) {\r\n                var returnValue;\r\n                switch (closeEvent.index) {\r\n                case 0:\r\n                    this.settings.value = input.value;\r\n                    if (typeof this.get('onok') === 'function') {\r\n                        returnValue = this.get('onok').call(this, closeEvent, this.settings.value);\r\n                        if (typeof returnValue !== 'undefined') {\r\n                            closeEvent.cancel = !returnValue;\r\n                        }\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    if (typeof this.get('oncancel') === 'function') {\r\n                        returnValue = this.get('oncancel').call(this, closeEvent);\r\n                        if (typeof returnValue !== 'undefined') {\r\n                            closeEvent.cancel = !returnValue;\r\n                        }\r\n                    }\r\n                    if(!closeEvent.cancel){\r\n                        input.value = this.settings.value;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        };\r\n    });\r\n\r\n    // CommonJS\r\n    if ( typeof module === 'object' && typeof module.exports === 'object' ) {\r\n        module.exports = alertify;\r\n    // AMD\r\n    } else if ( typeof define === 'function' && define.amd) {\r\n        define( [], function () {\r\n            return alertify;\r\n        } );\r\n    // window\r\n    } else if ( !window.alertify ) {\r\n        window.alertify = alertify;\r\n    }\r\n\r\n} ( typeof window !== 'undefined' ? window : this ) );\r\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import PropTypes from 'prop-types';\nimport withSideEffect from 'react-side-effect';\nimport isEqual from 'react-fast-compare';\nimport React from 'react';\nimport objectAssign from 'object-assign';\n\nvar ATTRIBUTE_NAMES = {\n    BODY: \"bodyAttributes\",\n    HTML: \"htmlAttributes\",\n    TITLE: \"titleAttributes\"\n};\n\nvar TAG_NAMES = {\n    BASE: \"base\",\n    BODY: \"body\",\n    HEAD: \"head\",\n    HTML: \"html\",\n    LINK: \"link\",\n    META: \"meta\",\n    NOSCRIPT: \"noscript\",\n    SCRIPT: \"script\",\n    STYLE: \"style\",\n    TITLE: \"title\"\n};\n\nvar VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n    return TAG_NAMES[name];\n});\n\nvar TAG_PROPERTIES = {\n    CHARSET: \"charset\",\n    CSS_TEXT: \"cssText\",\n    HREF: \"href\",\n    HTTPEQUIV: \"http-equiv\",\n    INNER_HTML: \"innerHTML\",\n    ITEM_PROP: \"itemprop\",\n    NAME: \"name\",\n    PROPERTY: \"property\",\n    REL: \"rel\",\n    SRC: \"src\",\n    TARGET: \"target\"\n};\n\nvar REACT_TAG_MAP = {\n    accesskey: \"accessKey\",\n    charset: \"charSet\",\n    class: \"className\",\n    contenteditable: \"contentEditable\",\n    contextmenu: \"contextMenu\",\n    \"http-equiv\": \"httpEquiv\",\n    itemprop: \"itemProp\",\n    tabindex: \"tabIndex\"\n};\n\nvar HELMET_PROPS = {\n    DEFAULT_TITLE: \"defaultTitle\",\n    DEFER: \"defer\",\n    ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n    ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n    TITLE_TEMPLATE: \"titleTemplate\"\n};\n\nvar HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n    obj[REACT_TAG_MAP[key]] = key;\n    return obj;\n}, {});\n\nvar SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\n\nvar HELMET_ATTRIBUTE = \"data-react-helmet\";\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n    var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    if (encode === false) {\n        return String(str);\n    }\n\n    return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n    var innermostTitle = getInnermostProperty(propsList, TAG_NAMES.TITLE);\n    var innermostTemplate = getInnermostProperty(propsList, HELMET_PROPS.TITLE_TEMPLATE);\n\n    if (innermostTemplate && innermostTitle) {\n        // use function arg to avoid need to escape $ characters\n        return innermostTemplate.replace(/%s/g, function () {\n            return Array.isArray(innermostTitle) ? innermostTitle.join(\"\") : innermostTitle;\n        });\n    }\n\n    var innermostDefaultTitle = getInnermostProperty(propsList, HELMET_PROPS.DEFAULT_TITLE);\n\n    return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n    return getInnermostProperty(propsList, HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[tagType] !== \"undefined\";\n    }).map(function (props) {\n        return props[tagType];\n    }).reduce(function (tagAttrs, current) {\n        return _extends({}, tagAttrs, current);\n    }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n    return propsList.filter(function (props) {\n        return typeof props[TAG_NAMES.BASE] !== \"undefined\";\n    }).map(function (props) {\n        return props[TAG_NAMES.BASE];\n    }).reverse().reduce(function (innermostBaseTag, tag) {\n        if (!innermostBaseTag.length) {\n            var keys = Object.keys(tag);\n\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n                    return innermostBaseTag.concat(tag);\n                }\n            }\n        }\n\n        return innermostBaseTag;\n    }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n    // Calculate list of tags, giving priority innermost component (end of the propslist)\n    var approvedSeenTags = {};\n\n    return propsList.filter(function (props) {\n        if (Array.isArray(props[tagName])) {\n            return true;\n        }\n        if (typeof props[tagName] !== \"undefined\") {\n            warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n        }\n        return false;\n    }).map(function (props) {\n        return props[tagName];\n    }).reverse().reduce(function (approvedTags, instanceTags) {\n        var instanceSeenTags = {};\n\n        instanceTags.filter(function (tag) {\n            var primaryAttributeKey = void 0;\n            var keys = Object.keys(tag);\n            for (var i = 0; i < keys.length; i++) {\n                var attributeKey = keys[i];\n                var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n                // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n                if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n                    primaryAttributeKey = lowerCaseAttributeKey;\n                }\n                // Special case for innerHTML which doesn't work lowercased\n                if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === TAG_PROPERTIES.INNER_HTML || attributeKey === TAG_PROPERTIES.CSS_TEXT || attributeKey === TAG_PROPERTIES.ITEM_PROP)) {\n                    primaryAttributeKey = attributeKey;\n                }\n            }\n\n            if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n                return false;\n            }\n\n            var value = tag[primaryAttributeKey].toLowerCase();\n\n            if (!approvedSeenTags[primaryAttributeKey]) {\n                approvedSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!instanceSeenTags[primaryAttributeKey]) {\n                instanceSeenTags[primaryAttributeKey] = {};\n            }\n\n            if (!approvedSeenTags[primaryAttributeKey][value]) {\n                instanceSeenTags[primaryAttributeKey][value] = true;\n                return true;\n            }\n\n            return false;\n        }).reverse().forEach(function (tag) {\n            return approvedTags.push(tag);\n        });\n\n        // Update seen tags with tags from this instance\n        var keys = Object.keys(instanceSeenTags);\n        for (var i = 0; i < keys.length; i++) {\n            var attributeKey = keys[i];\n            var tagUnion = objectAssign({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n\n            approvedSeenTags[attributeKey] = tagUnion;\n        }\n\n        return approvedTags;\n    }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n    for (var i = propsList.length - 1; i >= 0; i--) {\n        var props = propsList[i];\n\n        if (props.hasOwnProperty(property)) {\n            return props[property];\n        }\n    }\n\n    return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n    return {\n        baseTag: getBaseTagFromPropsList([TAG_PROPERTIES.HREF, TAG_PROPERTIES.TARGET], propsList),\n        bodyAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY, propsList),\n        defer: getInnermostProperty(propsList, HELMET_PROPS.DEFER),\n        encode: getInnermostProperty(propsList, HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n        htmlAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML, propsList),\n        linkTags: getTagsFromPropsList(TAG_NAMES.LINK, [TAG_PROPERTIES.REL, TAG_PROPERTIES.HREF], propsList),\n        metaTags: getTagsFromPropsList(TAG_NAMES.META, [TAG_PROPERTIES.NAME, TAG_PROPERTIES.CHARSET, TAG_PROPERTIES.HTTPEQUIV, TAG_PROPERTIES.PROPERTY, TAG_PROPERTIES.ITEM_PROP], propsList),\n        noscriptTags: getTagsFromPropsList(TAG_NAMES.NOSCRIPT, [TAG_PROPERTIES.INNER_HTML], propsList),\n        onChangeClientState: getOnChangeClientState(propsList),\n        scriptTags: getTagsFromPropsList(TAG_NAMES.SCRIPT, [TAG_PROPERTIES.SRC, TAG_PROPERTIES.INNER_HTML], propsList),\n        styleTags: getTagsFromPropsList(TAG_NAMES.STYLE, [TAG_PROPERTIES.CSS_TEXT], propsList),\n        title: getTitleFromPropsList(propsList),\n        titleAttributes: getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE, propsList)\n    };\n};\n\nvar rafPolyfill = function () {\n    var clock = Date.now();\n\n    return function (callback) {\n        var currentTime = Date.now();\n\n        if (currentTime - clock > 16) {\n            clock = currentTime;\n            callback(currentTime);\n        } else {\n            setTimeout(function () {\n                rafPolyfill(callback);\n            }, 0);\n        }\n    };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n    return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\n\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n    return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n    if (_helmetCallback) {\n        cancelAnimationFrame(_helmetCallback);\n    }\n\n    if (newState.defer) {\n        _helmetCallback = requestAnimationFrame(function () {\n            commitTagChanges(newState, function () {\n                _helmetCallback = null;\n            });\n        });\n    } else {\n        commitTagChanges(newState);\n        _helmetCallback = null;\n    }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n    var baseTag = newState.baseTag,\n        bodyAttributes = newState.bodyAttributes,\n        htmlAttributes = newState.htmlAttributes,\n        linkTags = newState.linkTags,\n        metaTags = newState.metaTags,\n        noscriptTags = newState.noscriptTags,\n        onChangeClientState = newState.onChangeClientState,\n        scriptTags = newState.scriptTags,\n        styleTags = newState.styleTags,\n        title = newState.title,\n        titleAttributes = newState.titleAttributes;\n\n    updateAttributes(TAG_NAMES.BODY, bodyAttributes);\n    updateAttributes(TAG_NAMES.HTML, htmlAttributes);\n\n    updateTitle(title, titleAttributes);\n\n    var tagUpdates = {\n        baseTag: updateTags(TAG_NAMES.BASE, baseTag),\n        linkTags: updateTags(TAG_NAMES.LINK, linkTags),\n        metaTags: updateTags(TAG_NAMES.META, metaTags),\n        noscriptTags: updateTags(TAG_NAMES.NOSCRIPT, noscriptTags),\n        scriptTags: updateTags(TAG_NAMES.SCRIPT, scriptTags),\n        styleTags: updateTags(TAG_NAMES.STYLE, styleTags)\n    };\n\n    var addedTags = {};\n    var removedTags = {};\n\n    Object.keys(tagUpdates).forEach(function (tagType) {\n        var _tagUpdates$tagType = tagUpdates[tagType],\n            newTags = _tagUpdates$tagType.newTags,\n            oldTags = _tagUpdates$tagType.oldTags;\n\n\n        if (newTags.length) {\n            addedTags[tagType] = newTags;\n        }\n        if (oldTags.length) {\n            removedTags[tagType] = tagUpdates[tagType].oldTags;\n        }\n    });\n\n    cb && cb();\n\n    onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n    return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n    if (typeof title !== \"undefined\" && document.title !== title) {\n        document.title = flattenArray(title);\n    }\n\n    updateAttributes(TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n    var elementTag = document.getElementsByTagName(tagName)[0];\n\n    if (!elementTag) {\n        return;\n    }\n\n    var helmetAttributeString = elementTag.getAttribute(HELMET_ATTRIBUTE);\n    var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n    var attributesToRemove = [].concat(helmetAttributes);\n    var attributeKeys = Object.keys(attributes);\n\n    for (var i = 0; i < attributeKeys.length; i++) {\n        var attribute = attributeKeys[i];\n        var value = attributes[attribute] || \"\";\n\n        if (elementTag.getAttribute(attribute) !== value) {\n            elementTag.setAttribute(attribute, value);\n        }\n\n        if (helmetAttributes.indexOf(attribute) === -1) {\n            helmetAttributes.push(attribute);\n        }\n\n        var indexToSave = attributesToRemove.indexOf(attribute);\n        if (indexToSave !== -1) {\n            attributesToRemove.splice(indexToSave, 1);\n        }\n    }\n\n    for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n        elementTag.removeAttribute(attributesToRemove[_i]);\n    }\n\n    if (helmetAttributes.length === attributesToRemove.length) {\n        elementTag.removeAttribute(HELMET_ATTRIBUTE);\n    } else if (elementTag.getAttribute(HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n        elementTag.setAttribute(HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n    }\n};\n\nvar updateTags = function updateTags(type, tags) {\n    var headElement = document.head || document.querySelector(TAG_NAMES.HEAD);\n    var tagNodes = headElement.querySelectorAll(type + \"[\" + HELMET_ATTRIBUTE + \"]\");\n    var oldTags = Array.prototype.slice.call(tagNodes);\n    var newTags = [];\n    var indexToDelete = void 0;\n\n    if (tags && tags.length) {\n        tags.forEach(function (tag) {\n            var newElement = document.createElement(type);\n\n            for (var attribute in tag) {\n                if (tag.hasOwnProperty(attribute)) {\n                    if (attribute === TAG_PROPERTIES.INNER_HTML) {\n                        newElement.innerHTML = tag.innerHTML;\n                    } else if (attribute === TAG_PROPERTIES.CSS_TEXT) {\n                        if (newElement.styleSheet) {\n                            newElement.styleSheet.cssText = tag.cssText;\n                        } else {\n                            newElement.appendChild(document.createTextNode(tag.cssText));\n                        }\n                    } else {\n                        var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n                        newElement.setAttribute(attribute, value);\n                    }\n                }\n            }\n\n            newElement.setAttribute(HELMET_ATTRIBUTE, \"true\");\n\n            // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n            if (oldTags.some(function (existingTag, index) {\n                indexToDelete = index;\n                return newElement.isEqualNode(existingTag);\n            })) {\n                oldTags.splice(indexToDelete, 1);\n            } else {\n                newTags.push(newElement);\n            }\n        });\n    }\n\n    oldTags.forEach(function (tag) {\n        return tag.parentNode.removeChild(tag);\n    });\n    newTags.forEach(function (tag) {\n        return headElement.appendChild(tag);\n    });\n\n    return {\n        oldTags: oldTags,\n        newTags: newTags\n    };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n    return Object.keys(attributes).reduce(function (str, key) {\n        var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n        return str ? str + \" \" + attr : attr;\n    }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n    var attributeString = generateElementAttributesAsString(attributes);\n    var flattenedTitle = flattenArray(title);\n    return attributeString ? \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n    return tags.reduce(function (str, tag) {\n        var attributeHtml = Object.keys(tag).filter(function (attribute) {\n            return !(attribute === TAG_PROPERTIES.INNER_HTML || attribute === TAG_PROPERTIES.CSS_TEXT);\n        }).reduce(function (string, attribute) {\n            var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n            return string ? string + \" \" + attr : attr;\n        }, \"\");\n\n        var tagContent = tag.innerHTML || tag.cssText || \"\";\n\n        var isSelfClosing = SELF_CLOSING_TAGS.indexOf(type) === -1;\n\n        return str + \"<\" + type + \" \" + HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n    }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n    var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(attributes).reduce(function (obj, key) {\n        obj[REACT_TAG_MAP[key] || key] = attributes[key];\n        return obj;\n    }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n    var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return Object.keys(props).reduce(function (obj, key) {\n        obj[HTML_TAG_MAP[key] || key] = props[key];\n        return obj;\n    }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n    var _initProps;\n\n    // assigning into an array to define toString function on it\n    var initProps = (_initProps = {\n        key: title\n    }, _initProps[HELMET_ATTRIBUTE] = true, _initProps);\n    var props = convertElementAttributestoReactProps(attributes, initProps);\n\n    return [React.createElement(TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n    return tags.map(function (tag, i) {\n        var _mappedTag;\n\n        var mappedTag = (_mappedTag = {\n            key: i\n        }, _mappedTag[HELMET_ATTRIBUTE] = true, _mappedTag);\n\n        Object.keys(tag).forEach(function (attribute) {\n            var mappedAttribute = REACT_TAG_MAP[attribute] || attribute;\n\n            if (mappedAttribute === TAG_PROPERTIES.INNER_HTML || mappedAttribute === TAG_PROPERTIES.CSS_TEXT) {\n                var content = tag.innerHTML || tag.cssText;\n                mappedTag.dangerouslySetInnerHTML = { __html: content };\n            } else {\n                mappedTag[mappedAttribute] = tag[attribute];\n            }\n        });\n\n        return React.createElement(type, mappedTag);\n    });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n    switch (type) {\n        case TAG_NAMES.TITLE:\n            return {\n                toComponent: function toComponent() {\n                    return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n                },\n                toString: function toString() {\n                    return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n                }\n            };\n        case ATTRIBUTE_NAMES.BODY:\n        case ATTRIBUTE_NAMES.HTML:\n            return {\n                toComponent: function toComponent() {\n                    return convertElementAttributestoReactProps(tags);\n                },\n                toString: function toString() {\n                    return generateElementAttributesAsString(tags);\n                }\n            };\n        default:\n            return {\n                toComponent: function toComponent() {\n                    return generateTagsAsReactComponent(type, tags);\n                },\n                toString: function toString() {\n                    return generateTagsAsString(type, tags, encode);\n                }\n            };\n    }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n    var baseTag = _ref.baseTag,\n        bodyAttributes = _ref.bodyAttributes,\n        encode = _ref.encode,\n        htmlAttributes = _ref.htmlAttributes,\n        linkTags = _ref.linkTags,\n        metaTags = _ref.metaTags,\n        noscriptTags = _ref.noscriptTags,\n        scriptTags = _ref.scriptTags,\n        styleTags = _ref.styleTags,\n        _ref$title = _ref.title,\n        title = _ref$title === undefined ? \"\" : _ref$title,\n        titleAttributes = _ref.titleAttributes;\n    return {\n        base: getMethodsForTag(TAG_NAMES.BASE, baseTag, encode),\n        bodyAttributes: getMethodsForTag(ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n        htmlAttributes: getMethodsForTag(ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n        link: getMethodsForTag(TAG_NAMES.LINK, linkTags, encode),\n        meta: getMethodsForTag(TAG_NAMES.META, metaTags, encode),\n        noscript: getMethodsForTag(TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n        script: getMethodsForTag(TAG_NAMES.SCRIPT, scriptTags, encode),\n        style: getMethodsForTag(TAG_NAMES.STYLE, styleTags, encode),\n        title: getMethodsForTag(TAG_NAMES.TITLE, { title: title, titleAttributes: titleAttributes }, encode)\n    };\n};\n\nvar Helmet = function Helmet(Component) {\n    var _class, _temp;\n\n    return _temp = _class = function (_React$Component) {\n        inherits(HelmetWrapper, _React$Component);\n\n        function HelmetWrapper() {\n            classCallCheck(this, HelmetWrapper);\n            return possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n        }\n\n        HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n            return !isEqual(this.props, nextProps);\n        };\n\n        HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n            if (!nestedChildren) {\n                return null;\n            }\n\n            switch (child.type) {\n                case TAG_NAMES.SCRIPT:\n                case TAG_NAMES.NOSCRIPT:\n                    return {\n                        innerHTML: nestedChildren\n                    };\n\n                case TAG_NAMES.STYLE:\n                    return {\n                        cssText: nestedChildren\n                    };\n            }\n\n            throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n        };\n\n        HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n            var _babelHelpers$extends;\n\n            var child = _ref.child,\n                arrayTypeChildren = _ref.arrayTypeChildren,\n                newChildProps = _ref.newChildProps,\n                nestedChildren = _ref.nestedChildren;\n\n            return _extends({}, arrayTypeChildren, (_babelHelpers$extends = {}, _babelHelpers$extends[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _babelHelpers$extends));\n        };\n\n        HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n            var _babelHelpers$extends2, _babelHelpers$extends3;\n\n            var child = _ref2.child,\n                newProps = _ref2.newProps,\n                newChildProps = _ref2.newChildProps,\n                nestedChildren = _ref2.nestedChildren;\n\n            switch (child.type) {\n                case TAG_NAMES.TITLE:\n                    return _extends({}, newProps, (_babelHelpers$extends2 = {}, _babelHelpers$extends2[child.type] = nestedChildren, _babelHelpers$extends2.titleAttributes = _extends({}, newChildProps), _babelHelpers$extends2));\n\n                case TAG_NAMES.BODY:\n                    return _extends({}, newProps, {\n                        bodyAttributes: _extends({}, newChildProps)\n                    });\n\n                case TAG_NAMES.HTML:\n                    return _extends({}, newProps, {\n                        htmlAttributes: _extends({}, newChildProps)\n                    });\n            }\n\n            return _extends({}, newProps, (_babelHelpers$extends3 = {}, _babelHelpers$extends3[child.type] = _extends({}, newChildProps), _babelHelpers$extends3));\n        };\n\n        HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n            var newFlattenedProps = _extends({}, newProps);\n\n            Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n                var _babelHelpers$extends4;\n\n                newFlattenedProps = _extends({}, newFlattenedProps, (_babelHelpers$extends4 = {}, _babelHelpers$extends4[arrayChildName] = arrayTypeChildren[arrayChildName], _babelHelpers$extends4));\n            });\n\n            return newFlattenedProps;\n        };\n\n        HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n            if (process.env.NODE_ENV !== \"production\") {\n                if (!VALID_TAG_NAMES.some(function (name) {\n                    return child.type === name;\n                })) {\n                    if (typeof child.type === \"function\") {\n                        return warn(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n                    }\n\n                    return warn(\"Only elements types \" + VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n                }\n\n                if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n                    return typeof nestedChild !== \"string\";\n                }))) {\n                    throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n                }\n            }\n\n            return true;\n        };\n\n        HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n            var _this2 = this;\n\n            var arrayTypeChildren = {};\n\n            React.Children.forEach(children, function (child) {\n                if (!child || !child.props) {\n                    return;\n                }\n\n                var _child$props = child.props,\n                    nestedChildren = _child$props.children,\n                    childProps = objectWithoutProperties(_child$props, [\"children\"]);\n\n                var newChildProps = convertReactPropstoHtmlAttributes(childProps);\n\n                _this2.warnOnInvalidChildren(child, nestedChildren);\n\n                switch (child.type) {\n                    case TAG_NAMES.LINK:\n                    case TAG_NAMES.META:\n                    case TAG_NAMES.NOSCRIPT:\n                    case TAG_NAMES.SCRIPT:\n                    case TAG_NAMES.STYLE:\n                        arrayTypeChildren = _this2.flattenArrayTypeChildren({\n                            child: child,\n                            arrayTypeChildren: arrayTypeChildren,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n\n                    default:\n                        newProps = _this2.mapObjectTypeChildren({\n                            child: child,\n                            newProps: newProps,\n                            newChildProps: newChildProps,\n                            nestedChildren: nestedChildren\n                        });\n                        break;\n                }\n            });\n\n            newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n            return newProps;\n        };\n\n        HelmetWrapper.prototype.render = function render() {\n            var _props = this.props,\n                children = _props.children,\n                props = objectWithoutProperties(_props, [\"children\"]);\n\n            var newProps = _extends({}, props);\n\n            if (children) {\n                newProps = this.mapChildrenToProps(children, newProps);\n            }\n\n            return React.createElement(Component, newProps);\n        };\n\n        createClass(HelmetWrapper, null, [{\n            key: \"canUseDOM\",\n\n\n            // Component.peek comes from react-side-effect:\n            // For testing, you may use a static peek() method available on the returned component.\n            // It lets you get the current state without resetting the mounted instance stack.\n            // Dont use it for anything other than testing.\n\n            /**\n             * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n             * @param {Object} bodyAttributes: {\"className\": \"root\"}\n             * @param {String} defaultTitle: \"Default Title\"\n             * @param {Boolean} defer: true\n             * @param {Boolean} encodeSpecialCharacters: true\n             * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n             * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n             * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n             * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n             * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n             * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n             * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n             * @param {String} title: \"Title\"\n             * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n             * @param {String} titleTemplate: \"MySite.com - %s\"\n             */\n            set: function set$$1(canUseDOM) {\n                Component.canUseDOM = canUseDOM;\n            }\n        }]);\n        return HelmetWrapper;\n    }(React.Component), _class.propTypes = {\n        base: PropTypes.object,\n        bodyAttributes: PropTypes.object,\n        children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]),\n        defaultTitle: PropTypes.string,\n        defer: PropTypes.bool,\n        encodeSpecialCharacters: PropTypes.bool,\n        htmlAttributes: PropTypes.object,\n        link: PropTypes.arrayOf(PropTypes.object),\n        meta: PropTypes.arrayOf(PropTypes.object),\n        noscript: PropTypes.arrayOf(PropTypes.object),\n        onChangeClientState: PropTypes.func,\n        script: PropTypes.arrayOf(PropTypes.object),\n        style: PropTypes.arrayOf(PropTypes.object),\n        title: PropTypes.string,\n        titleAttributes: PropTypes.object,\n        titleTemplate: PropTypes.string\n    }, _class.defaultProps = {\n        defer: true,\n        encodeSpecialCharacters: true\n    }, _class.peek = Component.peek, _class.rewind = function () {\n        var mappedState = Component.rewind();\n        if (!mappedState) {\n            // provide fallback if mappedState is undefined\n            mappedState = mapStateOnServer({\n                baseTag: [],\n                bodyAttributes: {},\n                encodeSpecialCharacters: true,\n                htmlAttributes: {},\n                linkTags: [],\n                metaTags: [],\n                noscriptTags: [],\n                scriptTags: [],\n                styleTags: [],\n                title: \"\",\n                titleAttributes: {}\n            });\n        }\n\n        return mappedState;\n    }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n    return null;\n};\n\nvar HelmetSideEffects = withSideEffect(reducePropsToState, handleClientStateChange, mapStateOnServer)(NullComponent);\n\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\n\nexport default HelmetExport;\nexport { HelmetExport as Helmet };\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.3\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    // START: Modifications:\n    // Apply guards for `Object.create(null)` handling. See:\n    // - https://github.com/FormidableLabs/react-fast-compare/issues/64\n    // - https://github.com/epoberezkin/fast-deep-equal/issues/49\n    if (a.valueOf !== Object.prototype.valueOf && typeof a.valueOf === 'function' && typeof b.valueOf === 'function') return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString && typeof a.toString === 'function' && typeof b.toString === 'function') return a.toString() === b.toString();\n    // END: Modifications\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","'use strict';\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar React = require('react');\nvar React__default = _interopDefault(React);\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect =\n    /*#__PURE__*/\n    function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;\n"],"names":["window","NOT_DISABLED_NOT_RESET","keys","defaults","autoReset","basic","closable","closableByDimmer","invokeOnCloseOff","frameless","defaultFocusOff","maintainFocus","maximizable","modal","movable","moveBounded","overflow","padding","pinnable","pinned","preventBodyShift","resizable","startMaximized","transition","transitionOff","tabbable","join","notifier","delay","position","closeButton","classes","base","prefix","message","top","right","bottom","left","center","visible","hidden","close","glossary","title","ok","cancel","acccpt","deny","confirm","decline","maximize","restore","theme","input","hooks","preinit","postinit","openDialogs","addClass","element","classNames","className","removeClass","original","split","toBeRemoved","x","length","index","indexOf","splice","isRightToLeft","getComputedStyle","document","body","direction","getScrollTop","documentElement","scrollTop","getScrollLeft","scrollLeft","clearContents","lastChild","removeChild","copy","src","cpy","Array","isArray","push","Date","getTime","RegExp","source","global","ignoreCase","multiline","lastIndex","prop","hasOwnProperty","destruct","instance","initialize","elements","root","parentNode","settings","__settings","__init","__internal","IsPassiveSupported","options","Object","defineProperty","get","addEventListener","removeEventListener","e","on","el","event","fn","useCapture","passive","capture","off","t","type","supported","transitions","undefined","style","delegate","context","method","arguments","args","apply","createCloseEvent","button","dispatchEvent","eventType","call","dialog","scrollX","scrollY","usedKeys","tabindex","isSafari","navigator","userAgent","templates","dimmer","reset","commands","header","content","footer","buttons","primary","auxiliary","resizeHandle","animationIn","animationOut","fixed","maximized","modeless","noSelection","noOverflow","noPadding","pin","shake","unpinned","noTransition","setup","alertify","focus","select","buttonsDefinition","b","ref","i","internal","isOpen","activeElement","timerIn","timerOut","onshow","onclosing","onclose","onfocus","onmove","onmoved","onresize","onresized","onmaximize","onmaximized","onrestore","onrestored","resetHandler","beginMoveHandler","beginResizeHandler","bringToFrontHandler","modalClickHandler","buttonsClickHandler","commandsClickHandler","transitionInHandler","transitionOutHandler","destroy","createElement","display","innerHTML","firstChild","container","nextSibling","buttonTemplate","key","cloneNode","text","attrs","setAttribute","scope","appendChild","opKey","onReset","beginMove","beginResize","bringToFront","handleTransitionInEvent","handleTransitionOutEvent","set","build","restoreScrollPosition","scrollTo","ensureNoOverflow","requiresNoOverflow","isModal","isMaximized","topScroll","add","scrollHeight","clientHeight","setFocus","optionUpdated","option","oldValue","newValue","setHeader","unbindModelessEvents","updateAbsPositionFix","bindModelessEvents","updateDisplayMode","updateBasicMode","updateFramelessMode","removeAbsPositionFix","addAbsPositionFix","updatePinned","bindClosableEvents","unbindClosableEvents","updateClosable","updateMaximizable","updatePinnable","bindMovableEvents","resetMove","unbindMovableEvents","updateMovable","bindResizableEvents","resetResize","unbindResizableEvents","updateResizable","value","offsetWidth","updateTransition","updateTransitionOff","onupdate","update","obj","callback","old","result","op","items","found","Error","triggerClose","triggerCallback","invokeOnClose","srcElement","target","isPinned","unpin","marginTop","marginLeft","marginRight","parseInt","cancelClick","modalClickHandlerTS","timeStamp","callbackTS","cancelKeyup","check","now","idx","disabled","closeEvent","keyupHandler","keyCode","keydownHandler","preventDefault","stopPropagation","resetTarget","querySelector","firstReset","lastReset","lastFocusedElement","relatedTarget","within","contains","findTabbable","last","tabbables","slice","querySelectorAll","reverse","offsetParent","offsetHeight","getClientRects","recycleTab","shiftKey","clearTimeout","offsetX","offsetY","xProp","yProp","bounds","refreshTop","moveDelegate","moveElement","moveElementBounded","Math","min","maxLeft","max","minLeft","maxTop","minTop","eventSrc","targetTouches","current","offsetLeft","offsetTop","move","endMove","startingLeft","Number","Nan","startingWidth","minWidth","handleOffset","height","minHeight","width","maxWidth","resize","pageRelative","X","Y","pageX","pageY","clientX","clientY","isRTL","isNaN","diff","abs","resizeElement","endResize","windowResize","this","moveTo","y","resizeTo","w","parseFloat","h","regex","match","clientWidth","setting","self","k","o","n","settingUpdated","item","HTMLElement","setContent","showModal","show","setTimeout","hasAttribute","prepare","removeAttribute","closeOthers","closeAll","openInstances","baseClass","updatePosition","create","div","clickDelegate","getAttribute","dismiss","transitionDone","clearTimers","timer","transitionTimeout","_content","_wait","pushed","wait","insertBefore","clickHandler","ondismiss","clicked","transitionEndHandler","dismissOthers","dismissAll","except","clone","dialogs","extend","sub","get_dialog","name","Factory","transient","definition","factory","register","notify","success","error","warning","main","_title","_message","_onok","onok","setMessage","label","returnValue","autoConfirm","duration","task","clearAutoConfirm","clearInterval","startAutoConfirm","setInterval","_oncancel","oncancel","labels","defaultFocus","reverseButtons","autoOk","autoCancel","p","_value","module","exports","getOwnPropertySymbols","prototype","propIsEnumerable","propertyIsEnumerable","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","map","test3","forEach","letter","err","shouldUseNative","from","symbols","to","val","TypeError","toObject","s","ATTRIBUTE_NAMES","TAG_NAMES","BASE","BODY","HEAD","HTML","LINK","META","NOSCRIPT","SCRIPT","STYLE","TITLE","TAG_PROPERTIES","REACT_TAG_MAP","accesskey","charset","class","contenteditable","contextmenu","itemprop","HELMET_PROPS","HTML_TAG_MAP","reduce","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","_typeof","Symbol","iterator","constructor","createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_extends","objectWithoutProperties","encodeSpecialCharacters","str","replace","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","filter","tagAttrs","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","tag","lowerCaseAttributeKey","toLowerCase","concat","getTagsFromPropsList","tagName","approvedSeenTags","warn","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","objectAssign","property","rafPolyfill","clock","currentTime","cafPolyfill","id","requestAnimationFrame","bind","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","console","_helmetCallback","commitTagChanges","newState","cb","baseTag","bodyAttributes","htmlAttributes","linkTags","metaTags","noscriptTags","onChangeClientState","scriptTags","styleTags","titleAttributes","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","attributes","elementTag","getElementsByTagName","helmetAttributeString","helmetAttributes","attributesToRemove","attributeKeys","attribute","indexToSave","_i","tags","headElement","head","tagNodes","indexToDelete","newElement","styleSheet","cssText","createTextNode","some","existingTag","isEqualNode","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","encode","toComponent","_initProps","React","generateTitleAsReactComponent","toString","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","string","tagContent","isSelfClosing","generateTagsAsString","mapStateOnServer","_ref","_ref$title","link","meta","noscript","script","HelmetExport","Component","_class","_temp","_React$Component","HelmetWrapper","classCallCheck","ReferenceError","possibleConstructorReturn","subClass","superClass","setPrototypeOf","__proto__","inherits","shouldComponentUpdate","nextProps","isEqual","mapNestedChildrenToProps","child","nestedChildren","flattenArrayTypeChildren","_babelHelpers$extends","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_ref2","_babelHelpers$extends2","_babelHelpers$extends3","newProps","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_babelHelpers$extends4","warnOnInvalidChildren","mapChildrenToProps","children","_this2","_child$props","initAttributes","convertReactPropstoHtmlAttributes","render","_props","canUseDOM","propTypes","PropTypes","defaultTitle","defer","titleTemplate","defaultProps","peek","rewind","mappedState","Helmet","withSideEffect","renderStatic","hasElementType","Element","hasMap","Map","hasSet","Set","hasArrayBuffer","ArrayBuffer","isView","equal","a","it","size","entries","next","done","has","flags","valueOf","$$typeof","ex","require","React__default","_defineProperty","reducePropsToState","handleStateChangeOnClient","WrappedComponent","state","mountedInstances","emitChange","SideEffect","_PureComponent","recordedState","_proto","UNSAFE_componentWillMount","componentDidUpdate","componentWillUnmount","PureComponent","displayName","getDisplayName"],"sourceRoot":""}